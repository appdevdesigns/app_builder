!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,i){"use strict";window.OP={},OP.Component={},OP.Models={},OP.Component.extend=function(e,t){OP.Component[e]=t}},function(e,t,i){"use strict";i(2),OP.Component.extend("ab_choose",function(e){var t={choose:e.unique("ab_choose")},i=OP.Component.ab_choose_list(e);return{ui:{id:t.choose,autoheight:!0,cells:[i.ui]},logic:{init:function(){i.logic.init()}}}})},function(e,t,i){"use strict";function n(e,t){return AD.lang.label.getLabel(e)||t}var o={application:{title:n("ab.application.application","*Application"),createNew:n("ab.application.createNew","*Add new application")}};OP.Component.extend("ab_choose_list",function(e){o.common=e.labels.common;var t={list:e.unique("ab_choose_list"),toolBar:e.unique("ab_choose_list_toolbar")},i={cols:[{width:100},{id:t.list,autoheight:!0,autowidth:!0,rows:[{height:30},{view:"toolbar",id:t.toolBar,cols:[{view:"label",label:o.application.title,fillspace:!0},{view:"button",value:o.application.createNew,width:200,click:function(){n.buttonCreateNewApplication()}},{view:"uploader",value:o.common.import,width:200,upload:"/app_builder/appJSON",multiple:!1,autosend:!0,on:{onAfterFileAdd:function(){this.disable(),$$("self.webixUiId.appList").showProgress({type:"icon"})},onFileUpload:function(e,t){n.loadData(),this.enable(),$$("self.webixUiId.appList").hideProgress()},onFileUploadError:function(e,t){var i="Error: "+(t&&t.message);webix.message({type:"error",text:i}),n.loadData(),this.enable(),$$("self.webixUiId.appList").hideProgress()}}}]},{view:"label",label:"The List"}]},{width:100}]},n={init:function(){webix.extend($$(t.list),webix.ProgressBar),webix.extend($$(t.list),webix.OverlayBox)},buttonCreateNewApplication:function(){self.resetState(),self.populateForm()},loadData:function(){console.log("... should load application data now.")}};return{ui:i,logic:n}})},function(e,t,i){"use strict";i(0),i(1),AD.Control.OpsTool.extend("BuildApp",{init:function(e,t){var i=this;t=AD.defaults({templateDOM:"/opstools/BuildApp/views/BuildApp/BuildApp.ejs",resize_notification:"BuildApp.resize",tool:null},t),i.options=t,i._super(e,t),i.data={},i.webixUiId={loadingScreen:"ab-loading-screen",syncButton:"ab-sync-button"},i.initDOM(function(){i.initWebixUI()})},initDOM:function(e){var t=this;can.view(this.options.templateDOM,{},function(i){t.element.html(i),e()})},initWebixUI:function(){function e(e,t){return AD.lang.label.getLabel(e)||t}var t=webix.uid(),i={unique:function(e){return e+t},labels:{common:{import:e("ab.common.import","*Import")}}},n=OP.Component.ab_choose(i);this.AppBuilder=webix.ui({id:i.unique("buld_app_loading_screen"),container:"ab-main-container",autoheight:!0,autowidth:!0,rows:[n.ui]}),this.AppBuilder.adjust(),n.logic.init()},resize:function(e){var t=this;e=e.height||e;var i=$(t.element);if(i){var n=i.parent().css("width");n&&(n=parseInt(n.replace("px",""))),i.width(n);var o=e-140,a=parseInt(i.css("min-height").replace("px",""));a<o?(i.height(o),$("#ab-main-container").height(o)):(i.height(a),$("#ab-main-container").height(a)),this.AppBuilder&&this.AppBuilder.adjust()}}})}]);