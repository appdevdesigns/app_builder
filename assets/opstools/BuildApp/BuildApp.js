!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return AD.lang.label.getLabel(e)||t}function a(e){for(var t=[],n=e.getFirstId();n;){var i=e.getItem(n);t.push(i),n=e.getNextId(n)}return t}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),s=i(c);n(27);var u=n(3),p=i(u),f=[],d=function(){function e(t){var n=this;o(this,e),this.id=t.id,this.json=t.json,this.name=t.name||this.json.name||"",this.role=t.role,s.default.Multilingual.translate(this,this.json,e.fieldsMultilingual());var i=[];(t.json.objects||[]).forEach(function(e){i.push(new p.default(e,n))}),this._objects=i,this.Model=s.default.Model.get("opstools.BuildApp.ABApplication"),this.Model.Models(e)}return l(e,[{key:"destroy",value:function(){var e=this;if(this.id)return this.Model.destroy(this.id).then(function(){f.remove(e.id)})}},{key:"save",value:function(){var e=this,t=this.toObj();return t.id?this.Model.update(t.id,t).then(function(){f.updateItem(t.id,e)}):this.Model.create(t).then(function(t){e.id=t.id,f.add(e,0)})}},{key:"toObj",value:function(){s.default.Multilingual.unTranslate(this,this.json,e.fieldsMultilingual()),this.json.name=this.name;var t=[];return this._objects.forEach(function(e){t.push(e.toObj())}),this.json.objects=t,{id:this.id,name:this.name,json:this.json,role:this.role}}},{key:"assignPermissions",value:function(e){var t=this;return new Promise(function(n,i){AD.comm.service.put({url:"/app_builder/"+t.id+"/role/assign",data:{roles:e}}).fail(i).done(n)})}},{key:"getPermissions",value:function(){var e=this;return new Promise(function(t,n){AD.comm.service.get({url:"/app_builder/"+e.id+"/role"}).fail(n).done(t)})}},{key:"createPermission",value:function(){var e=this;return new Promise(function(t,n){AD.comm.service.post({url:"/app_builder/"+e.id+"/role"}).fail(n).done(t)})}},{key:"deletePermission",value:function(){var e=this;return new Promise(function(t,n){AD.comm.service.delete({url:"/app_builder/"+e.id+"/role"}).fail(n).done(t)})}},{key:"objects",value:function(e){return e=e||function(){return!0},this._objects.filter(e)}},{key:"objectNew",value:function(e){return new p.default(e,this)}},{key:"objectSave",value:function(e){return this.objects(function(t){return t.id==e.id}).length>0||this._objects.push(e),this.save()}}],[{key:"allApplications",value:function(){return new Promise(function(t,n){var i=s.default.Model.get("opstools.BuildApp.ABApplication");i.Models(e),i.findAll().then(function(e){f=e,t(e)}).catch(n)})}},{key:"create",value:function(t){return new Promise(function(n,i){var o={};s.default.Multilingual.unTranslate(t,o,e.fieldsMultilingual()),t.json=o,o.name=t.name,s.default.Model.get("opstools.BuildApp.ABApplication").create(t).then(function(t){var i=new e(t);f.add(i,0),n(i)}).catch(i)})}},{key:"fieldsMultilingual",value:function(){return["label","description"]}},{key:"isValid",value:function(e,t){var n=null;if("add"==e){var i=a(f),o=t.label.trim().replace(/ /g,"_").toLowerCase(),l=i.filter(function(e){return e.name.trim().toLowerCase()==o});l&&l.length>0&&(n=s.default.Form.validationError({name:"label",message:r("ab_form_application_duplicate_name","*Name (#name#) is already in use").replace("#name#",o)},n))}return n}}]),e}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),r=i(o),a=n(11),l=i(a),c=n(10),s=i(c),u=n(12),p=i(u),f=n(6),d=i(f);window.OP={},OP.Component={},OP.CustomComponent={},OP.Component.extend=function(e,t){OP.Component[e]=function(e){e||(e=OP.Component._newApp());var n=t(e);if(n.actions)for(var i in n.actions)e.actions[i]=n.actions[i];return n}},OP.Component._newApp=function(){return{uuid:webix.uid(),actions:{},config:d.default.config(),custom:{},labels:{},unique:function(e){return e+this.uuid}}},OP.CustomComponent.extend=function(e,t){OP.CustomComponent[e]=function(e,n){return e||(e=OP.Component._newApp()),t(e,n)}},OP.Dialog=AD.op.Dialog,OP.Error=AD.error,OP.Form=r.default,OP.Multilingual=l.default,OP.Model=s.default,OP.Util=p.default,t.default=OP,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),o=function(e){return e&&e.__esModule?e:{default:e}}(i),r={};r[o.default.type()]=o.default,t.default={allFields:function(){var e=[];for(var t in r)e.push(r[t]);return e},newField:function(e,t){if(e.type)return new r[e.type](e,t)}},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return AD.lang.label.getLabel(e)||t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(1),c=i(l),s=n(2),u=i(s),p=function(){function e(t,n){var i=this;o(this,e),this.id=t.id,this.name=t.name||"",this.labelFormat=t.labelFormat||"",this.isImported=t.isImported||0,this.urlPath=t.urlPath||"",this.importFromObject=t.importFromObject||"",this.translations=t.translations,c.default.Multilingual.translate(this,this,["label"]);var r=[];(t.fields||[]).forEach(function(e){r.push(i.fieldNew(e))}),this._fields=r,this.application=n}return a(e,[{key:"isValid",value:function(){var e=this,t=null;return 0==this.application.objects(function(t){return t.name.toLowerCase()==e.name.toLowerCase()}).length||(t=c.default.Form.validationError({name:"name",message:r("ab.validation.object.name.unique","Object name must be unique (#name# already used in this Application)").replace("#name#",this.name)},t)),t}},{key:"destroy",value:function(){this.id&&console.error("TODO: ABObject.destroy()")}},{key:"save",value:function(){var e=this;return new Promise(function(t,n){e.id||(e.id=c.default.Util.uuid(),e.label=e.label||e.name,e.urlPath=e.urlPath||e.application.name+"/"+e.name),e.application.objectSave(e).then(function(){t(e)}).catch(function(e){n(e)})})}},{key:"toObj",value:function(){c.default.Multilingual.unTranslate(this,this,["label"]);var e=[];return this._fields.forEach(function(t){e.push(t.toObj())}),{id:this.id,name:this.name,labelFormat:this.labelFormat,isImported:this.isImported,urlPath:this.urlPath,importFromObject:this.importFromObject,translations:this.translations,fields:e}}},{key:"fields",value:function(e){return e=e||function(){return!0},this._fields.filter(e)}},{key:"fieldNew",value:function(e){return u.default.newField(e,this)}},{key:"fieldSave",value:function(e){return this.fields(function(t){return t.id==e.id}).length>0||this._fields.push(e),this.save()}}]),e}();t.default=p,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(1),n(15),n(19);var o=n(29),r=i(o),a=n(28),l=i(a),c=n(39);i(c);OP.Component.extend("ab",function(e){function t(e,t){return AD.lang.label.getLabel(e)||t}e.labels={add:t("ab.common.add","*Add"),create:t("ab.common.create","*Create"),delete:t("ab.common.delete","*Delete"),edit:t("ab.common.edit","*Edit"),export:t("ab.common.export","*Export"),formName:t("ab.common.form.name","*Name"),import:t("ab.common.import","*Import"),ok:t("ab.common.ok","*Ok"),cancel:t("ab.common.cancel","*Cancel"),save:t("ab.common.save","*Save"),yes:t("ab.common.yes","*Yes"),no:t("ab.common.no","*No"),createErrorMessage:t("ab.common.create.error","*System could not create <b>{0}</b>."),createSuccessMessage:t("ab.common.create.success","*<b>{0}</b> is created."),updateErrorMessage:t("ab.common.update.error","*System could not update <b>{0}</b>."),updateSucessMessage:t("ab.common.update.success","*<b>{0}</b> is updated."),deleteErrorMessage:t("ab.common.delete.error","*System could not delete <b>{0}</b>."),deleteSuccessMessage:t("ab.common.delete.success","*<b>{0}</b> is deleted."),dataFieldHeaderLabel:t("ab.dataField.common.headerLabel","*Label"),dataFieldHeaderLabelPlaceholder:t("ab.dataField.common.headerLabelPlaceholder","*Header Name"),dataFieldColumnName:t("ab.dataField.common.columnName","*Name"),dataFieldColumnNamePlaceholder:t("ab.dataField.common.columnNamePlaceholder","*Column Name"),dataFieldShowIcon:t("ab.dataField.common.showIcon","*show icon?")},OP.CustomComponent[r.default.key](e,"edittree"),OP.CustomComponent[l.default.key](e,"editlist");var n={component:e.unique("app_builder_root")},i=OP.Component.ab_choose(e),o=OP.Component.ab_work(e);return{ui:{id:n.component,view:"multiview",borderless:!0,animate:!1,rows:[i.ui,o.ui]},init:function(){i.init(),o.init(),e.actions.transitionApplicationChooser(),$$(n.component).adjust()},actions:{}}})},function(e,t,n){"use strict";n(1),n(4),AD.Control.OpsTool.extend("BuildApp",{init:function(e,t){var n=this;t=AD.defaults({templateDOM:"/opstools/BuildApp/views/BuildApp/BuildApp.ejs",resize_notification:"BuildApp.resize",tool:null},t),n.options=t,n._super(e,t),n.data={},n.webixUiId={loadingScreen:"ab-loading-screen",syncButton:"ab-sync-button"},n.initDOM(function(){n.initWebixUI()})},initDOM:function(e){var t=this;can.view(this.options.templateDOM,{},function(n){t.element.html(n),e()})},initWebixUI:function(){var e=OP.Component.ab(),t=e.ui;t.container="ab-main-container",this.AppBuilder=webix.ui(t),e.init()},resize:function(e){var t=this;e=e.height||e;var n=$(t.element);if(n){var i=n.parent().css("width");i&&(i=parseInt(i.replace("px",""))),n.width(i);var o=e,r=parseInt(n.css("min-height").replace("px",""));r<o?(n.height(o),$("#ab-main-container").height(o)):(n.height(r),$("#ab-main-container").height(r)),this.AppBuilder&&this.AppBuilder.adjust()}}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),r=i(o),a=n(8),l=i(a);t.default={config:function(){return window.innerWidth<768?l.default:r.default}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={appListRowHeight:70,buttonWidthLarge:200,buttonWidthMedium:150,buttonWidthSmall:100,buttonWidthExtraSmall:50,appListSpacerRowHeight:100,appListSpacerColMinWidth:100,appListSpacerColMaxWidth:200,labelWidthSmall:50,hideMobile:!1},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={appListRowHeight:70,buttonWidthLarge:200,appListSpacerRowHeight:10,appListSpacerColMinWidth:1,appListSpacerColMaxWidth:1,labelWidthSmall:50,hideMobile:!0},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={validationError:function(e,t){t=t||{error:"E_VALIDATION",invalidAttributes:{}};var n=t.invalidAttributes;return n[e.name]=n[e.name]||[],n[e.name].push(e),t},isValidationError:function(e,t){var n=!1;if(e&&(e.error&&"E_UNKNOWN"==e.error&&e.raw&&e.raw.length>0&&(e=e.raw[0]),e.err&&(e=e.err),e.error&&"E_VALIDATION"==e.error||e.code&&"E_VALIDATION"==e.code)){var i=e.invalidAttributes;if(i){var o=!1;for(var r in i)if(t.elements[r]){var a=i[r],l=[];a.forEach(function(e){l.push(e.message)}),t.markInvalid(r,l.join(", ")),n||(t.elements[r].focus(),n=!0),o=!0}if(o)return!0}}return!1}},e.exports=t.default},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r={findAll:"GET #url#",findOne:"GET #url#/{id}",create:"POST #url#",update:"PUT #url#/{id}",destroy:"DELETE #url#/{id}"},a={},l=function(){function e(t,n,o){i(this,e),this.key=t,this.staticData=n,this.instanceData=o,this.Model=n.Model,this.url={};for(var a in r)this.url[a]=n[a]}return o(e,[{key:"Models",value:function(e){this.Model=e}},{key:"findAll",value:function(e){var t=this;return new Promise(function(n,i){var o=t.service("findAll");AD.comm.service[o.verb]({url:o.url,params:e}).fail(i).done(function(e){if(e=e.data||e,Array.isArray(e)||(e=[e]),t.Model){var i=[];e.forEach(function(e){e&&i.push(new t.Model(e))}),e=i}var o=new webix.DataCollection({data:e,on:{onAfterDelete:function(e){}}});n(o)})})}},{key:"findOne",value:function(e){var t=this;return new Promise(function(n,i){var o=t.service("findOne"),r=o.url;for(var a in e){var l=r;r=AD.util.string.replaceAll(r,"{"+a+"}",e[a]),l!=r&&delete e[a]}o.url=r,AD.comm.service[o.verb]({url:o.url,params:e}).fail(i).done(function(e){e.translate&&e.translate(),n(e.attr?e.attr():e)})})}},{key:"create",value:function(e){var t=this;return new Promise(function(n,i){var o=t.service("create");AD.comm.service[o.verb]({url:o.url,params:e}).fail(i).done(function(e){e.translate&&e.translate(),n(e.attr?e.attr():e)})})}},{key:"update",value:function(e,t){var n=this;return new Promise(function(i,o){var r=n.service("update",e);AD.comm.service[r.verb]({url:r.url,params:t}).fail(o).done(i)})}},{key:"destroy",value:function(e){var t=this;return new Promise(function(n,i){var o=t.service("destroy",e);AD.comm.service[o.verb]({url:o.url,params:{}}).fail(i).done(n)})}},{key:"service",value:function(e,t){var n=this.url[e].split(" "),i=n[0].toLowerCase(),o=n.pop();if(t){var e="{id}";o=AD.util.string.replaceAll(o,e,t)}return{verb:i,url:o}}}]),e}();t.default={extend:function(e,t,n){if(t.restURL)for(var i in r)t[i]=r[i].replace("#url#",t.restURL);u(a,e)[s(e)]=new l(e,t,n)},get:function(e){return c(a,e)}};var c=function(e,t){var n=t.split("."),i=e;return n.forEach(function(e){if(null==i){console.error("! current name segment is null.  Check your given name to make sure it is properly given: ",e)}i&&(void 0===i[e]&&(i=null),i&&(i=i[e]))}),i},s=function(e){return e.split(".").pop()},u=function(e,t){var n=t.split("."),i=(n.pop(),e);return n.forEach(function(e){void 0===i[e]&&(i[e]={}),i=i[e]}),i};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={translate:function(e,t,n){t.translations||(t.translations=[]);var i=AD.lang.currentLanguage||"en";n&&n.length>0&&t.translations.forEach(function(t){t.language_code==i&&n.forEach(function(n){e[n]=t[n]||""})})},unTranslate:function(e,t,n){t=t||{},n=n||[],t.translations||(t.translations=[]);var i=AD.lang.currentLanguage||"en";if(n&&n.length>0){var o=!1;if(t.translations.forEach(function(t){t.language_code==i&&(n.forEach(function(n){t[n]=e[n]}),o=!0)}),!o){var r={};r.language_code=i,n.forEach(function(t){null!=e[t]&&(r[t]=e[t])}),t.translations.push(r)}}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={uuid:AD.util.uuid},e.exports=t.default},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return AD.lang.label.getLabel(e)||t}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(a),c=function(){function e(t,n){i(this,e),this.label=t.label||"",this.columnName=t.columnName||"",this.showIcon=t.showIcon||!0,l.default.Multilingual.translate(this,this,["label"])}return r(e,[{key:"isValid",value:function(){var e=this,t=null;return 0==this.object.fields(function(t){return t.columnName.toLowerCase()==e.columnName.toLowerCase()}).length||(t=l.default.Form.validationError({name:"columnName",message:o("ab.validation.object.name.unique","Field columnName must be unique (#name# already used in this Application)").replace("#name#",this.name)},t)),t}},{key:"destroy",value:function(){this.id&&console.error("TODO: ABField.destroy()")}},{key:"save",value:function(){var e=this;return new Promise(function(t,n){e.id||(e.id=l.default.Util.uuid()),e.object.fieldSave(e).then(function(){t(e)}).catch(function(e){n(e)})})}},{key:"toObj",value:function(){return l.default.Multilingual.unTranslate(this,this,["label"]),{columnName:this.columnName,showIcon:this.showIcon,translations:this.translations}}}],[{key:"clearEditor",value:function(e,t){var n={label:"",columnName:"",showIcon:1};for(var i in n){$$(t[i]).setValue(n[i])}}},{key:"definitionEditor",value:function(e,t,n,i){var o=function(e,n){n=n||"",e!=n&&n==$$(t.columnName).getValue()&&$$(t.columnName).setValue(e)};return n.labelOnChange&&(o=n.labelOnChange),{rows:[{view:"label",label:"<span class='webix_icon fa-{0}'></span>{1}".replace("{0}",i.icon()).replace("{1}",i.menuName())},{view:"text",id:t.label,name:"label",label:e.labels.dataFieldHeaderLabel,placeholder:e.labels.dataFieldHeaderLabelPlaceholder,labelWidth:50,css:"ab-new-label-name",on:{onChange:function(e,t){o(e,t)}}},{view:"text",id:t.columnName,name:"columnName",label:e.labels.dataFieldColumnName,placeholder:e.labels.dataFieldColumnNamePlaceholder,labelWidth:e.config.labelWidthSmall},{view:"label",id:t.fieldDescription,label:i.description()},{view:"checkbox",id:t.showIcon,name:"showIcon",labelRight:e.labels.dataFieldShowIcon,labelWidth:0,value:!0}]}}}]),e}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){return AD.lang.label.getLabel(e)||t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e,t,n){for(var i=!0;i;){var o=e,r=t,a=n;i=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,r);if(void 0!==l){if("value"in l)return l.value;var c=l.get;if(void 0===c)return;return c.call(a)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=r,n=a,i=!0,l=s=void 0}},c=n(13),s=function(e){return e&&e.__esModule?e:{default:e}}(c),u={component:{defaultText:r("ab.dataField.string.default","*Default text"),supportMultilingual:r("ab.dataField.string.supportMultilingual","*Support multilingual"),headerLabel:r("ab.dataField.common.headerLabel","*Label"),headerLabelPlaceholder:r("ab.dataField.common.headerLabelPlaceholder","*Header Name"),columnName:r("ab.dataField.common.columnName","*Name"),columnNamePlaceholder:r("ab.dataField.common.columnNamePlaceholder","*Column Name"),showIcon:r("ab.dataField.common.showIcon","*show icon?")}},p=function(e){u.common=e.labels;var t="ab_datafield_string",n={textDefault:"",supportMultilingual:1},i={component:e.unique(t+"_component"),textDefault:e.unique(t+"_textdefault"),supportMultilingual:e.unique(t+"_supportMultilingual"),label:e.unique(t+"_label"),columnName:e.unique(t+"_columnName"),fieldDescription:e.unique(t+"_fieldDescription"),showIcon:e.unique(t+"_showIcon")},o={view:"form",id:i.component,autoheight:!0,borderless:!0,elements:[{view:"text",id:i.textDefault,name:"textDefault",placeholder:u.component.defaultText},{view:"checkbox",id:i.supportMultilingual,name:"multilingual",labelRight:u.component.supportMultilingual,labelWidth:0,value:!0}],rules:{label:webix.rules.isNotEmpty,columnName:webix.rules.isNotEmpty}},r=function(){},a={clear:function(){s.default.clearEditor(e,i);for(var t in n){$$(i[t]).setValue(n[t])}$$(i.component).clearValidation()},isValid:function(){return $$(i.component).validate()},populate:function(e){console.error("TODO: .populate()")},show:function(){$$(i.component).clearValidation(),$$(i.component).show()},values:function(){var e=$$(i.component).getValues();return e.type=f.type(),e}},l=s.default.definitionEditor(e,i,a,f);return o.elements=l.rows.concat(o.elements),{ui:o,init:r,clear:a.clear,isValid:a.isValid,populate:a.populate,show:a.show,values:a.values,_logic:a}},f=function(e){function t(e,n){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.id=e.id,this.type=e.type||t.type(),this.textDefault=e.textDefault||"",this.supportMultilingual=e.supportMultilingual||!0,this.object=n}return o(t,e),a(t,[{key:"isValid",value:function(){return l(Object.getPrototypeOf(t.prototype),"isValid",this).call(this)}},{key:"toObj",value:function(){var e=l(Object.getPrototypeOf(t.prototype),"toObj",this).call(this);return e.id=this.id,e.type=this.type,e.textDefault=this.textDefault,e.supportMultilingual=this.supportMultilingual,e}}],[{key:"name",value:function(){return"string"}},{key:"type",value:function(){return"string"}},{key:"icon",value:function(){return"font"}},{key:"menuName",value:function(){return r("ab.dataField.string.menuName","*Single line text")}},{key:"description",value:function(){return r("ab.dataField.string.description","*short string value")}},{key:"propertiesComponent",value:function(e){return p(e)}}]),t}(s.default);t.default=f,e.exports=t.default},function(e,t,n){"use strict";n(17),n(16),OP.Component.extend("ab_choose",function(e){var t={component:e.unique("ab_choose")},n=OP.Component.ab_choose_list(e),i=OP.Component.ab_choose_form(e);return{ui:{view:"multiview",animate:!1,id:t.component,cells:[n.ui,i.ui]},init:function(){n.init(),i.init()},actions:{transitionApplicationChooser:function(){$$(t.component).show()}},_logic:{}}})},function(e,t,n){"use strict";function i(e,t){return AD.lang.label.getLabel(e)||t}var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o),a={application:{formHeader:i("ab.application.form.header","*Application Info"),placeholderName:i("ab.application.form.placeholderName","*Application name"),placeholderDescription:i("ab.application.form.placeholderDescription","*Application description"),formDescription:i("ab.application.form.formDescription","*Description"),sectionPermission:i("ab.application.form.sectionPermission","*Permission"),permissionHeader:i("ab.application.form.headerPermission","*Who can use this app?"),createNewRole:i("ab.application.form.createNewRoleButton","*Create a new role"),invalidName:i("ab.application.invalidName","*This application name is invalid"),duplicateName:i("ab.application.duplicateName","*Name must be unique.")}};OP.Component.extend("ab_choose_form",function(e){a.common=e.labels;var t={formComponent:e.unique("ab_choose_form_component"),form:e.unique("ab-app-list-form"),appFormPermissionList:e.unique("ab-app-form-permission"),appFormCreateRoleButton:e.unique("ab-app-form-create-role"),saveButton:e.unique("ab-app-form-button-save")},n={id:t.formComponent,responsive:"hide",cols:[{maxWidth:e.config.appListSpacerColMaxWidth,minWidth:e.config.appListSpacerColMinWidth,width:e.config.appListSpacerColMaxWidth,hidden:e.config.hideMobile},{responsiveCell:!1,rows:[{maxHeight:e.config.appListSpacerRowHeight,hidden:e.config.hideMobile},{view:"toolbar",cols:[{view:"label",label:a.application.formHeader,fillspace:!0}]},{view:"form",id:t.form,autoheight:!0,margin:0,elements:[{name:"label",view:"text",label:a.common.formName,required:!0,placeholder:a.application.placeholderName,labelWidth:100,on:{onChange:function(e,t){l.permissionRenameRole(e,t)}}},{name:"description",view:"textarea",label:"Description",labelAlign:"left",labelWidth:100,placeholder:a.application.placeholderDescription,height:100},{height:10},{view:"toolbar",cols:[{template:a.application.permissionHeader,type:"header",borderless:!0},{view:"toggle",id:t.appFormCreateRoleButton,type:"iconButton",width:300,align:"right",offIcon:"square-o",onIcon:"check-square-o",label:a.application.createNewRole,on:{onItemClick:function(e,n){if(this.getValue()){var i=$$(t.form).elements.label.getValue();l.permissionAddNew(i)}else l.permissionRemoveNew()}}}]},{name:"permissions",id:t.appFormPermissionList,view:"list",height:130,autowidth:!0,margin:0,css:"ab-app-form-permission",scroll:"y",template:"#name#",on:{onItemClick:function(e,t,n){if(!this.getItem(e).isApplicationRole)if(this.isSelected(e))this.unselect(e);else{var i=this.getSelectedId();"string"!=typeof i&&isNaN(i)||(i=i?[i]:[]),i.push(e),this.select(i)}}}},{height:5},{margin:5,cols:[{fillspace:!0},{view:"button",value:a.common.cancel,width:e.config.buttonWidthSmall,click:function(){l.cancel()}},{id:t.saveButton,view:"button",label:a.common.save,type:"form",width:e.config.buttonWidthSmall,click:function(){l.buttonSaveDisable(),l.formBusy();var t=e.actions.getSelectedApplication();t?l.formValidate("update")&&l.applicationUpdate(t):l.formValidate("add")&&l.applicationCreate(l.formValues())}}]}]},{maxHeight:e.config.appListSpacerRowHeight,hidden:e.config.hideMobile}]},{maxWidth:e.config.appListSpacerColMaxWidth,minWidth:e.config.appListSpacerColMinWidth,width:e.config.appListSpacerColMaxWidth,hidden:e.config.hideMobile}]},i=["label","description"],o=function(){webix.extend($$(t.form),webix.ProgressBar),webix.extend($$(t.appFormPermissionList),webix.ProgressBar)},l={applicationCreate:function(t){var n={name:t.label,label:t.label,description:t.description};async.waterfall([function(e){r.default.create(n).then(function(t){e(null,t)}).catch(e)},function(e,t){l.permissionSave(e).then(function(){t()}).catch(t)}],function(n){if(l.formReady(),n)return webix.message({type:"error",text:a.common.createErrorMessage.replace("{0}",t.label)}),AD.error.log("App Builder : Error create application data",{error:n}),void l.buttonSaveEnable();e.actions.transitionApplicationList(),webix.message({type:"success",text:a.common.createSuccessMessage.replace("{0}",t.label)}),l.buttonSaveEnable()})},applicationUpdate:function(t){var n=l.formValues();async.waterfall([function(e){l.permissionSave(t).then(function(t){e(null,t)}).catch(e)},function(e,i){t.label=n.label,t.description=n.description,e&&e.id?t.role=e.id:t.role=null,t.save().then(function(){i()}).catch(i)}],function(n){if(l.formReady(),l.buttonSaveEnable(),n)return webix.message({type:"error",text:a.common.updateErrorMessage.replace("{0}",t.label)}),AD.error.log("App Builder : Error update application data",{error:n}),!1;e.actions.transitionApplicationList(),webix.message({type:"success",text:a.common.updateSucessMessage.replace("{0}",t.label)})})},buttonSaveDisable:function(){$$(t.saveButton).disable()},buttonSaveEnable:function(){$$(t.saveButton).enable()},cancel:function(){l.formReset(),e.actions.transitionApplicationList()},formBusy:function(){$$(t.form).showProgress({type:"icon"})},formPopulate:function(e){var n=$$(t.form);e&&i.forEach(function(t){n.elements[t]&&n.elements[t].setValue(e[t])})},formReady:function(){$$(t.form).hideProgress()},formReset:function(){$$(t.form).clear(),$$(t.form).clearValidation()},formValidate:function(e){var n=$$(t.form);if(!n.validate())return l.buttonSaveEnable(),!1;var i=r.default.isValid(e,n.getValues());return!OP.Form.isValidationError(i,n)||(l.formReady(),l.buttonSaveEnable(),!1)},formValues:function(){return $$(t.form).getValues()},permissionAddNew:function(e){$$(t.appFormPermissionList).add({id:"newRole",name:l.permissionName(e),isApplicationRole:!0},0);var n=$$(t.appFormPermissionList).getSelectedId(!0);n.push("newRole"),$$(t.appFormPermissionList).select(n)},permissionName:function(e){return e+" Application Role"},permissionPopulate:function(e){var n=$$(t.appFormPermissionList);n.showProgress({type:"icon"}),async.waterfall([function(t){AD.comm.service.get({url:"/app_builder/user/roles"}).fail(function(e){t(e)}).done(function(n){var i=n.map(function(t){return e&&t.name==l.permissionName(e.name.split("_").join(" "))&&(t.isApplicationRole=!0),t});t(null,i)})},function(t,n){e&&e.id?e.getPermissions().then(function(e){n(null,t,e)}).catch(function(e){n(e)}):n(null,t,[])},function(i,o,r){if(e&&e.role&&i.forEach(function(t){t.id==(e.role.id||e.role)&&(t.isApplicationRole=!0)}),i.sort(function(e,t){return e.isApplicationRole===t.isApplicationRole?0:e.isApplicationRole?-1:1}),n.clearAll(),n.parse(i),o&&o.length>0){n.select(o);var a=i.filter(function(e){return e.isApplicationRole}).length>0?1:0;$$(t.appFormCreateRoleButton).setValue(a)}r()}],function(e){e&&webix.message(e.message),n.hideProgress()})},permissionRemoveNew:function(){$$(t.appFormPermissionList).find(function(e){return e.isApplicationRole}).forEach(function(e){$$(t.appFormPermissionList).remove(e.id)})},permissionRenameRole:function(e,n){$$(t.appFormPermissionList).find(function(e){return e.name===l.permissionName(n)}).forEach(function(n){var i=$$(t.appFormPermissionList).getItem(n.id);i.name=l.permissionName(e),$$(t.appFormPermissionList).updateItem(i.id,i)})},permissionSave:function(e){return new Promise(function(n,i){var o=[],r=null;if($$(t.appFormCreateRoleButton).getValue()){var a=$$(t.appFormPermissionList).getSelectedItem(!0);a=a.filter(function(e){return e.isApplicationRole}),0==a.length&&o.push(function(t){e.createPermission().then(function(e){r=e,t()}).catch(t)})}else o.push(function(t){e.deletePermission().then(function(){t()}).catch(t)});var l=$$(t.appFormPermissionList).getSelectedItem(!0);l=l.filter(function(e){return"newRole"!==e.id}),o.push(function(n){if($$(t.appFormCreateRoleButton).getValue()&&r){var i=l.filter(function(e){return e.id==r.id});(!i||i.length<1)&&l.push({id:r.id,isApplicationRole:!0})}e.assignPermissions(l).then(function(){n()}).catch(n)}),async.series(o,function(e,t){e?i(e):n(r)})})},show:function(){$$(t.formComponent).show()}};return{ui:n,init:o,actions:{transitionApplicationForm:function(t){void 0===t&&e.actions.unselectApplication(),l.formReset(),t&&l.formPopulate(t),l.permissionPopulate(t),l.show()}},_logic:l}})},function(e,t,n){"use strict";function i(e,t){return AD.lang.label.getLabel(e)||t}var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o);n(18);var a={application:{title:i("ab.application.application","*Application"),createNew:i("ab.application.createNew","*Create application"),noApplication:i("ab.application.noApplication","*There is no application data")}};OP.Component.extend("ab_choose_list",function(e){a.common=e.labels;var t={component:e.unique("ab_choose_listcomponent"),list:e.unique("ab_choose_list"),toolBar:e.unique("ab_choose_list_toolbar"),buttonCreateNewApplication:e.unique("ab_choose_list_buttonNewApp")},n=OP.Component.ab_choose_list_menu(e),i=webix.ui(n.ui);i.hide();var o={id:t.component,responsive:"hide",cols:[{maxWidth:e.config.appListSpacerColMaxWidth,minWidth:e.config.appListSpacerColMinWidth,width:e.config.appListSpacerColMaxWidth,hidden:e.config.hideMobile},{responsiveCell:!1,rows:[{maxHeight:e.config.appListSpacerRowHeight,hidden:e.config.hideMobile},{view:"toolbar",id:t.toolBar,cols:[{view:"label",label:a.application.title,fillspace:!0},{id:t.buttonCreateNewApplication,view:"button",label:a.application.createNew,autowidth:!0,type:"icon",icon:"plus",click:function(){e.actions.transitionApplicationForm()}},{view:"uploader",label:a.common.import,autowidth:!0,upload:"/app_builder/appJSON",multiple:!1,type:"icon",icon:"upload",autosend:!0,on:{onAfterFileAdd:function(){this.disable(),c.busy()},onFileUpload:function(e,t){c.loadData(),this.enable(),c.ready()},onFileUploadError:function(e,t){var n="Error: "+(t&&t.message);webix.message({type:"error",text:n}),c.loadData(),this.enable(),c.ready()}}}]},{id:t.list,view:"list",css:"ab-app-select-list",template:function(e,t){return c.templateListItem(e,t)},type:{height:e.config.appListRowHeight,iconGear:"<span class='webix_icon fa-cog'></span>"},select:!1,onClick:{"ab-app-list-item":function(t,n,i){c.busy(),this.select(n);var o=this.getItem(n);return o&&(c.ready(),e.actions.transitionWorkspace(o)),!1},"ab-app-list-edit":function(e,t,n){return i.show(n),this.select(t),!1}}},{maxHeight:e.config.appListSpacerRowHeight,hidden:e.config.hideMobile}]},{maxWidth:e.config.appListSpacerColMaxWidth,minWidth:e.config.appListSpacerColMinWidth,width:e.config.appListSpacerColMaxWidth,hidden:e.config.hideMobile}]},l={},c={busy:function(){$$(t.list).showProgress&&$$(t.list).showProgress({icon:"cursor"})},loadData:function(){c.busy(),r.default.allApplications().then(function(e){c.ready(),e.attachEvent("onAfterAdd",function(e,t){c.refreshOverlay()}),e.attachEvent("onAfterDelete",function(e){c.refreshOverlay()}),l.listApplications=e,c.refreshList()}).catch(function(e){c.ready(),webix.message({type:"error",text:e}),AD.error.log("App Builder : Error loading application data",{error:e})})},refreshOverlay:function(){var e=$$(t.list);e.count()?e.hideOverlay():e.showOverlay(a.application.noApplication)},ready:function(){$$(t.list).hideProgress&&$$(t.list).hideProgress()},reset:function(){$$(t.list).unselectAll()},refreshList:function(){var e=$$(t.list);e.clearAll(),e.data.unsync(),e.data.sync(l.listApplications),c.refreshOverlay(),e.refresh(),c.ready()},show:function(){$$(t.component).show()},templateListItem:function(e,t){return s.replace("#label#",e.label||"").replace("#description#",e.description||"").replace("{common.iconGear}",t.iconGear)}},s=["<div class='ab-app-list-item'>","<div class='ab-app-list-info'>","<div class='ab-app-list-name'>#label#</div>","<div class='ab-app-list-description'>#description#</div>","</div>","<div class='ab-app-list-edit'>","{common.iconGear}","</div>","</div>"].join("");return{ui:o,init:function(){webix.extend($$(t.list),webix.ProgressBar),webix.extend($$(t.list),webix.OverlayBox),n.init(),c.loadData()},actions:{unselectApplication:function(){c.reset()},getSelectedApplication:function(){return $$(t.list).getSelectedItem()},deleteApplication:function(e){e&&(c.busy(),e.destroy().then(function(t){c.reset(),c.ready(),webix.message({type:"success",text:a.common.deleteSuccessMessage.replace("{0}",e.label)})}).catch(function(t){c.reset(),c.ready(),webix.message({type:"error",text:a.common.deleteErrorMessage.replace("{0}",e.label)}),AD.error.log("App Builder : Error delete application data",{error:t})}))},transitionApplicationList:function(){$$(t.component).show()}},_logic:c}})},function(e,t,n){"use strict";function i(e,t){return AD.lang.label.getLabel(e)||t}var o={application:{menu:i("ab.application.menu","*Application Menu"),confirmDeleteTitle:i("ab.application.delete.title","*Delete application"),confirmDeleteMessage:i("ab.application.delete.message","*Do you want to delete <b>{0}</b>?")}};OP.Component.extend("ab_choose_list_menu",function(e){o.common=e.labels;var t={menu:e.unique("ab_choose_list_menu")},n={view:"popup",id:t.menu,head:o.application.menu,width:100,body:{view:"list",borderless:!0,data:[{command:o.common.edit,icon:"fa-pencil-square-o"},{command:o.common.export,icon:"fa-download"},{command:o.common.delete,icon:"fa-trash"}],datatype:"json",template:"<i class='fa #icon#' aria-hidden='true'></i> #command#",autoheight:!0,select:!1,on:{onItemClick:function(n,i,r){$$(t.menu).hide();var a=e.actions.getSelectedApplication();switch(r.textContent.trim()){case o.common.edit:e.actions.transitionApplicationForm(a);break;case o.common.delete:OP.Dialog.ConfirmDelete({title:o.application.confirmDeleteTitle,text:o.application.confirmDeleteMessage.replace("{0}",a.label),callback:function(t){t&&e.actions.deleteApplication(a)}});break;case o.common.export:window.location.assign("/app_builder/appJSON/"+a.id+"?download=1")}return!1}}}};return{ui:n,init:function(){}}})},function(e,t,n){"use strict";function i(e,t){return AD.lang.label.getLabel(e)||t}var o=n(0);!function(e){e&&e.__esModule}(o);n(21),n(20);var r={application:{backToApplication:i("ab.application.backToApplication","*Back to Applications page"),synchronize:i("ab.application.synchronize","*Synchronize"),objectTitle:i("ab.object.title","*Objects"),interfaceTitle:i("ab.interface.title","*Interface")}};OP.Component.extend("ab_work",function(e){r.common=e.labels;var t={component:e.unique("ab_work_component"),toolBar:e.unique("ab_work_toolbar"),buttonSync:e.unique("ab_work_button_sync"),labelAppName:e.unique("ab_work_label_appname"),tabbar:e.unique("ab_work_tabbar"),tab_object:e.unique("ab_work_tab_object"),tab_interface:e.unique("ab_work_tab_interface"),workspace:e.unique("ab_work_workspace")},n=OP.Component.ab_work_object(e),i=OP.Component.ab_work_interface(e),o={id:t.component,rows:[{view:"toolbar",id:t.toolBar,autowidth:!0,cols:[{view:"button",value:r.application.backToApplication,width:250,align:"right",click:function(){e.actions.transitionApplicationChooser()}},{id:t.buttonSync,view:"button",type:"iconButton",icon:"refresh",label:r.application.synchronize,width:250,align:"right",click:function(){l.synchronize()}},{fillspace:!0},{view:"label",id:t.labelAppName,width:400,align:"right"}]},{height:10},{view:"tabbar",id:t.tabbar,value:t.tab_object,multiview:!0,options:[{id:t.tab_object,value:r.application.objectTitle,width:120},{id:t.tab_interface,value:r.application.interfaceTitle,width:120}],on:{onChange:function(e,t){e!=t&&l.tabSwitch(e,t)}}},{id:t.workspace,cells:[n.ui,i.ui]}]},a=function(){n.init(),i.init(),l.tabSwitch(t.tab_object)},l={applicationInit:function(e){$$(t.labelAppName).define("label",e.label),$$(t.labelAppName).refresh()},show:function(){$$(t.component).show()},synchronize:function(){console.error("TODO: ab_work.logic.synchronize()!")},tabSwitch:function(n,i){switch(n){case t.tab_object:$$(t.buttonSync).show(),e.actions.transitionObjectTab();break;case t.tab_interface:$$(t.buttonSync).hide(),e.actions.transitionInterfaceWorkspace()}}};return{ui:o,init:a,actions:{transitionWorkspace:function(t){l.applicationInit(t),e.actions.initObjectTab(t),e.actions.initInterfaceTab(t),l.show()}},_logic:l}})},function(e,t,n){"use strict";var i=n(0),o=(function(e){e&&e.__esModule}(i),{application:{}});OP.Component.extend("ab_work_interface",function(e){o.common=e.labels;var t={component:e.unique("ab_work_interface_component")},n={id:t.component,scroll:!0,rows:[{view:"label",label:"interface workspace",width:400,align:"right"}]},i=function(){},r={show:function(){$$(t.component).show()}};return{ui:n,init:i,actions:{initInterfaceTab:function(e){console.error("TODO: ab_work_interface.actions.initInterfaceTab()")},transitionInterfaceWorkspace:function(){r.show()}},_logic:r}})},function(e,t,n){"use strict";var i=n(0);!function(e){e&&e.__esModule}(i);n(22),n(25);var o={application:{}};OP.Component.extend("ab_work_object",function(e){o.common=e.labels;var t={component:e.unique("ab_work_object_component")},n=OP.Component.ab_work_object_list(e),i=OP.Component.ab_work_object_workspace(e),r={id:t.component,cols:[n.ui,{view:"resizer",autoheight:!0},i.ui]},a=function(){i.init(),n.init()},l={show:function(){$$(t.component).show()}};return{ui:r,init:a,actions:{initObjectTab:function(t){e.actions.populateObjectList(t),e.actions.clearObjectWorkspace()},transitionObjectTab:function(){l.show()}},_logic:l}})},function(e,t,n){"use strict";var i=n(0);!function(e){e&&e.__esModule}(i);n(23);var o={application:{addNew:function(e,t){return AD.lang.label.getLabel(e)||t}("ab.object.addNew","*Add new object")}};OP.Component.extend("ab_work_object_list",function(e){o.common=e.labels;var t={component:e.unique("ab_work_object_list_component"),list:e.unique("ab_work_object_list_editlist"),buttonNew:e.unique("ab_work_object_list_buttonNew")},n=OP.Component.ab_work_object_list_newObject(e);webix.ui(n.ui);n.init();var i={id:t.component,rows:[{view:e.custom.editlist.view,id:t.list,width:250,height:800,autoheight:!0,select:!0,editaction:"custom",editable:!0,editor:"text",editValue:"label",template:function(e,t){return a.templateListItem(e,t)},type:{unsyncNumber:"<span class='ab-object-unsync'><span class='ab-object-unsync-number'></span> unsync</span>",iconGear:"<div class='ab-object-list-edit'><span class='webix_icon fa-cog'></span></div>"},on:{onAfterRender:function(){},onAfterSelect:function(e){a.selectObject(e)},onAfterDelete:function(e){},onBeforeEditStop:function(e,t){},onAfterEditStop:function(e,t,n){}},onClick:{"ab-object-list-edit":function(e,t,n){}}},{view:"button",id:t.buttonNew,value:o.application.addNew,click:function(){a.toNewObject()}}]},r=function(){webix.extend($$(t.list),webix.ProgressBar),$$(t.component).adjust(),$$(t.list).adjust()},a={listBusy:function(){$$(t.list).showProgress({type:"icon"})},listReady:function(){$$(t.list).hideProgress()},selectObject:function(n){var i=$$(t.list).getItem(n);e.actions.populateObjectWorkspace(i)},show:function(){$$(t.component).show()},syncNumberRefresh:function(){console.error("TODO: syncNumRefresh()")},templateListItem:function(e,t){return l.replace("#label#",e.label||"??label??").replace("{common.iconGear}",t.iconGear)},toNewObject:function(){e.actions.transitionNewObjectWindow(c,function(e,n){if(e)return!1;s.add(n,0),$$(t.list).select(n.id)})}},l=["<div class='ab-object-list-item'>","#label#","{common.unsyncNumber}","{common.iconGear}","</div>"].join(""),c=null,s=null;return{ui:i,init:r,actions:{populateObjectList:function(e){a.listBusy(),c=e,s=new webix.DataCollection({data:e.objects()});var n=$$(t.list);n.clearAll(),n.data.unsync(),n.data.sync(s),n.refresh(),n.unselectAll(),a.syncNumberRefresh(),a.listReady()},getSelectedObject:function(){return $$(t.list).getSelectedItem()}},_logic:a}})},function(e,t,n){"use strict";n(24);var i={component:{addNew:function(e,t){return AD.lang.label.getLabel(e)||t}("ab.object.addNew","*Add new object")}};OP.Component.extend("ab_work_object_list_newObject",function(e){i.common=e.labels;var t={component:e.unique("ab_work_object_list_newObject_component")},n=OP.Component.ab_work_object_list_newObject_blank(e),o={view:"window",id:t.component,width:400,position:"center",modal:!0,head:i.component.addNew,selectNewObject:!0,on:{onBeforeShow:function(){}},body:{view:"tabview",cells:[n.ui]}},r=function(){var e={onCancel:a.hide,onSave:a.save};n.init(e)},a={hide:function(){$$(t.component).hide()},save:function(e,t){if(!l)return OP.Dialog.Alert({title:"Shoot!",test:"No Application Set!  Why?"}),t(!0),!1;var n=l.objectNew(e),i=n.isValid();if(i)return t(i),!1;n.save().then(function(e){t(),a.hide(),c(null,e)}).catch(function(e){t(e)})},show:function(){$$(t.component).show()}},l=null,c=null;return{ui:o,init:r,actions:{transitionNewObjectWindow:function(e,t){a.show(),l=e,c=t}},_logic:a}})},function(e,t,n){"use strict";var i=n(3),o=(function(e){e&&e.__esModule}(i),{component:{placeholderName:function(e,t){return AD.lang.label.getLabel(e)||t}("ab.object.form.placeholderName","*Object name")}});OP.Component.extend("ab_work_object_list_newObject_blank",function(e){o.common=e.labels;var t={component:e.unique("ab_work_object_list_newObject_blank_component"),form:e.unique("ab_work_object_list_newObject_blank"),buttonSave:e.unique("ab-object-blank-object-save"),buttonCancel:e.unique("ab-object-blank-object-cancel")},n={id:t.component,header:o.common.create,body:{view:"form",id:t.form,width:400,rules:{},elements:[{view:"text",label:o.common.formName,name:"name",required:!0,placeholder:o.component.placeholderName,labelWidth:70},{margin:5,cols:[{view:"button",id:t.buttonSave,value:o.common.add,type:"form",click:function(){return r.save()}},{view:"button",id:t.buttonCancel,value:o.common.cancel,click:function(){r.cancel()}}]}]}},i=function(e){for(var t in r.callbacks)r.callbacks[t]=e[t]||r.callbacks[t]},r={callbacks:{onCancel:function(){console.warn("NO onCancel()!")},onSave:function(e,t){console.warn("NO onSave()!")}},cancel:function(){r.formClear(),r.callbacks.onCancel()},formClear:function(){$$(t.form).clearValidation(),$$(t.form).clear()},hide:function(){$$(t.component).hide()},save:function(){var e=$$(t.buttonSave);e.disable();var n=$$(t.form);if(n.clearValidation(),!n.validate())return e.enable(),!1;var i=n.getValues();r.callbacks.onSave(i,function(t){if(t)return OP.Form.isValidationError(t,n),e.enable(),!1;r.formClear()})},show:function(){$$(t.component).show()}};return{ui:n,init:i,actions:{},_logic:r}})},function(e,t,n){"use strict";function i(e,t){return AD.lang.label.getLabel(e)||t}var o=n(0);!function(e){e&&e.__esModule}(o);n(26);var r={component:{addNewRow:i("ab.object.addNewRow","*Add new row"),hideFields:i("ab.object.toolbar.hideFields","*Hide fields"),filterFields:i("ab.object.toolbar.filterFields","*Add filters"),sortFields:i("ab.object.toolbar.sortFields","*Apply sort"),frozenColumns:i("ab.object.toolbar.frozenColumns","*Frozen columns"),defineLabel:i("ab.object.toolbar.defineLabel","*Define label"),permission:i("ab.object.toolbar.permission","*Permission"),addFields:i("ab.object.toolbar.addFields","*Add new column"),export:i("ab.object.toolbar.export","*Export")}};OP.Component.extend("ab_work_object_workspace",function(e){r.common=e.labels;var t={component:e.unique("ab_work_object_workspace_component"),buttonAddField:e.unique("ab_work_object_workspace_buttonAddField"),buttonExport:e.unique("ab_work_object_workspace_buttonExport"),buttonFieldsVisible:e.unique("ab_work_object_workspace_buttonFieldsVisible"),buttonFilter:e.unique("ab_work_object_workspace_buttonFilter"),buttonFrozen:e.unique("ab_work_object_workspace_buttonFrozen"),buttonLabel:e.unique("ab_work_object_workspace_buttonLabel"),buttonRowNew:e.unique("ab_work_object_workspace_buttonRowNew"),buttonSort:e.unique("ab_work_object_workspace_buttonSort"),datatable:e.unique("ab_work_object_workspace_datatable"),toolbar:e.unique("ab_work_object_workspace_toolbar"),noSelection:e.unique("ab_work_object_workspace_noSelection"),selectedObject:e.unique("ab_work_object_workspace_selectedObject")},n={view:"multiview",id:t.component,rows:[{id:t.noSelection,rows:[{view:"label",label:"* Select an Object to work with"}]},{id:t.selectedObject,rows:[{view:"toolbar",id:t.toolbar,hidden:!0,cols:[{view:"button",id:t.buttonFieldsVisible,label:r.component.hideFields,popup:"self.webixUiId.visibleFieldsPopup",icon:"columns",type:"icon",width:120,badge:0},{view:"button",id:t.buttonFilter,label:r.component.filterFields,icon:"filter",type:"icon",width:120,badge:0,click:function(){o.toolbarFilter(this)}},{view:"button",id:t.buttonSort,label:r.component.sortFields,icon:"sort",type:"icon",width:120,badge:0,click:function(){o.toolbarSort(this.$view)}},{view:"button",id:t.buttonFrozen,label:r.component.frozenColumns,popup:"self.webixUiId.frozenColumnsPopup",icon:"table",type:"icon",width:150,badge:0},{view:"button",id:t.buttonLabel,label:r.component.defineLabel,popup:"self.webixUiId.defineLabelPopup",icon:"newspaper-o",type:"icon",width:130},{view:"button",label:r.component.permission,icon:"lock",type:"icon",width:120},{view:"button",id:t.buttonAddField,label:r.component.addFields,icon:"plus",type:"icon",width:150,click:function(){o.toolbarAddFields(this.$view)}},{view:"button",id:t.buttonExport,label:r.component.export,popup:"self.webixUiId.exportDataPopup",icon:"file-o",type:"icon",width:90}]},{cols:[{autowidth:!0},{view:"button",id:t.buttonRowNew,value:r.component.addNewRow,width:150,align:"right",click:function(){o.rowAdd()}}]}]}]},i=function(){$$(t.noSelection).show()},o={show:function(){$$(t.component).show()},fieldCreated:function(e){console.error("TODO: !! ReREnder the dataTable with current Object!")},toolbarAddFields:function(e){l.show(e)},toolbarFilter:function(e){console.error("TODO: button filterFields()")},toolbarSort:function(e){console.error("TODO: toolbarSort()")}},a=OP.Component.ab_work_object_workspace_popupNewDataField(e),l=webix.ui(a.ui);return a.init({onSave:o.fieldCreated}),{ui:n,init:i,actions:{clearObjectWorkspace:function(){$$(t.noSelection).show(),console.error("TODO: clearObjectWorkspace()")},populateObjectWorkspace:function(n){$$(t.toolbar).show(),$$(t.selectedObject).show(),e.actions.populateObjectPopupAddDataField(n)}},_logic:o}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return AD.lang.label.getLabel(e)||t}var r=n(0),a=(i(r),n(2)),l=i(a),c={component:{chooseType:o("ab.add_fields.chooseType","*Choose field type..."),label:o("ab.add_fields.label","*Label"),addNewField:o("ab.add_fields.addNewField","*Add Column")}},s="ab_work_object_workspace_popupNewDataField";OP.Component.extend(s,function(e){c.common=e.labels;var t={component:e.unique(s+"_component"),types:e.unique(s+"_types"),editDefinitions:e.unique(s+"_editDefinitions"),buttonSave:e.unique(s+"_buttonSave"),buttonCancel:e.unique(s+"_buttonCancel")},n={view:"popup",id:t.component,modal:!0,autoheight:!0,ready:function(){console.error("ready() called!!!"),p.resetState()},body:{css:"ab-add-fields-popup",borderless:!0,width:380,paddingX:17,rows:[{view:"menu",id:t.types,minWidth:500,autowidth:!0,data:[{value:c.component.chooseType,submenu:["dataFieldsManager",".getFieldMenuList()"]}],click:function(e,t,n){p.typeClick(),t.preventDefault()},on:{onMenuItemClick:function(e,t,n){p.onMenuItemClick(e),t.preventDefault()}}},{height:10},{view:"multiview",id:t.editDefinitions,cells:[{id:"del_me",view:"label",label:"edit definition here"}]},{height:10},{cols:[{view:"button",id:t.buttonSave,label:c.component.addNewField,type:"form",width:120,click:function(){p.buttonSave()}},{view:"button",value:c.common.cancel,width:100,click:function(){p.buttonCancel()}}]}]},on:{onBeforeShow:function(){p.resetState()},onShow:function(){p.onShow()},onHide:function(){p.resetState()}}},i={},o={},r=null,a=null,u=function(){var n=l.default.allFields(),a=[],s=null,u={id:t.editDefinitions,rows:[]};n.forEach(function(t){a.push(t.menuName());var n=t.propertiesComponent(e);s||(s=n),u.rows.push(n.ui),i[t.menuName()]=t,o[t.menuName()]=n});var p=$$(t.types).getFirstId();$$(t.types).updateItem(p,{value:c.component.chooseType,submenu:a}),webix.ui(u,$$(t.editDefinitions)),s.show(),r=s},p={buttonCancel:function(){p.resetState();for(var e in o)o[e].clear();$$(t.component).hide()},buttonSave:function(){$$(t.buttonSave).disable();var e=r;if(e)if(e.isValid()){var n=e.values(),i=a.fieldNew(n),o=i.isValid();o?(OP.Form.isValidationError(o,$$(e.ui.id)),$$(t.buttonSave).enable()):i.save().then(function(){$$(t.buttonSave).enable(),p.hide(),p.callbacks.onSave(i)}).catch(function(e){$$(t.buttonSave).enable()})}else $$(t.buttonSave).enable();else OP.Dialog.Alert({title:"! Could not find the current editor.",text:"go tell a developer about this."}),$$(t.buttonSave).enable()},callbacks:{onCancel:function(){console.warn("NO onCancel()!")},onSave:function(e){console.warn("NO onSave()!")}},hide:function(){$$(t.component).hide()},onMenuItemClick:function(e){var t=o[e];t&&(t.show(),r=t)},onShow:function(){console.error("TODO: onShow();")},resetState:function(){console.error("TODO: resetState()")},show:function(e){$$(t.component).show(e)},typeClick:function(){var e=$$(t.types).config.data[0].submenu;"string"!=typeof e&&($$(t.types).getSubMenu($$(t.types).config.data[0].id),e=$$(t.types).config.data[0].submenu),$$(e)&&$$(e).show()}};return{ui:n,init:u,actions:{populateObjectPopupAddDataField:function(e){a=e}},_logic:p}})},function(e,t,n){"use strict";OP.Model.extend("opstools.BuildApp.ABApplication",{useSockets:!0,restURL:"/app_builder/abapplication"},{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={component:{}};OP.CustomComponent.extend("ab_custom_edittree",function(e,t){i.common=e.labels;var n=(e.unique("custom_editlist_component"),{name:e.unique("custom_editlist")}),o={};webix.protoUI(n,webix.EditAbility,webix.ui.list);var r={view:n.name,_logic:o};return e.custom=e.custom||{},e.custom[t]=r,r}),t.default={key:"ab_custom_edittree"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={component:{}};OP.CustomComponent.extend("ab_custom_edittree",function(e,t){i.common=e.labels;var n=(e.unique("custom_edittree_component"),{name:e.unique("custom_edittree")}),o={};webix.protoUI(n,webix.EditAbility,webix.ui.tree);var r={view:n.name,_logic:o};return e.custom=e.custom||{},e.custom[t]=r,r}),t.default={key:"ab_custom_edittree"},e.exports=t.default},function(e,t,n){"use strict";function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function o(e){return 3*e.length/4-i(e)}function r(e){var t,n,o,r,a,l,c=e.length;a=i(e),l=new p(3*c/4-a),o=a>0?c-4:c;var s=0;for(t=0,n=0;t<o;t+=4,n+=3)r=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],l[s++]=r>>16&255,l[s++]=r>>8&255,l[s++]=255&r;return 2===a?(r=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,l[s++]=255&r):1===a&&(r=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,l[s++]=r>>8&255,l[s++]=255&r),l}function a(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function l(e,t,n){for(var i,o=[],r=t;r<n;r+=3)i=(e[r]<<16)+(e[r+1]<<8)+e[r+2],o.push(a(i));return o.join("")}function c(e){for(var t,n=e.length,i=n%3,o="",r=[],a=0,c=n-i;a<c;a+=16383)r.push(l(e,a,a+16383>c?c:a+16383));return 1===i?(t=e[n-1],o+=s[t>>2],o+=s[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=s[t>>10],o+=s[t>>4&63],o+=s[t<<2&63],o+="="),r.push(o),r.join("")}t.byteLength=o,t.toByteArray=r,t.fromByteArray=c;for(var s=[],u=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,b=f.length;d<b;++d)s[d]=f[d],u[f.charCodeAt(d)]=d;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t,n){"use strict";(function(e){function i(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=r.prototype):(null===e&&(e=new r(t)),e.length=t),e}function r(e,t,n){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return s(this,e)}return a(this,e,t,n)}function a(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,n,i):"string"==typeof t?u(e,t,n):d(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,n,i){return l(t),t<=0?o(e,t):void 0!==n?"string"==typeof i?o(e,t).fill(n,i):o(e,t).fill(n):o(e,t)}function s(e,t){if(l(t),e=o(e,t<0?0:0|b(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|m(t,n);e=o(e,i);var a=e.write(t,n);return a!==i&&(e=e.slice(0,a)),e}function p(e,t){var n=t.length<0?0:0|b(t.length);e=o(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),r.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=r.prototype):e=p(e,t),e}function d(e,t){if(r.isBuffer(t)){var n=0|b(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||J(t.length)?o(e,0):p(e,t);if("Buffer"===t.type&&Z(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function h(e){return+e!=e&&(e=0),r.alloc(+e)}function m(e,t){if(r.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(i)return V(e).length;t=(""+t).toLowerCase(),i=!0}}function w(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return $(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return j(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function v(e,t,n,i,o){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=r.from(t,i)),r.isBuffer(t))return 0===t.length?-1:_(e,t,n,i,o);if("number"==typeof t)return t&=255,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,i,o);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,i,o){function r(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,l=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,l/=2,c/=2,n/=2}var s;if(o){var u=-1;for(s=n;s<l;s++)if(r(e,s)===r(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===c)return u*a}else-1!==u&&(s-=s-u),u=-1}else for(n+c>l&&(n=l-c),s=n;s>=0;s--){for(var p=!0,f=0;f<c;f++)if(r(e,s+f)!==r(t,f)){p=!1;break}if(p)return s}return-1}function y(e,t,n,i){n=Number(n)||0;var o=e.length-n;i?(i=Number(i))>o&&(i=o):i=o;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var a=0;a<i;++a){var l=parseInt(t.substr(2*a,2),16);if(isNaN(l))return a;e[n+a]=l}return a}function x(e,t,n,i){return G(V(t,e.length-n),e,n,i)}function A(e,t,n,i){return G(Y(t),e,n,i)}function k(e,t,n,i){return A(e,t,n,i)}function O(e,t,n,i){return G(H(t),e,n,i)}function P(e,t,n,i){return G(z(t,e.length-n),e,n,i)}function j(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function $(e,t,n){n=Math.min(e.length,n);for(var i=[],o=t;o<n;){var r=e[o],a=null,l=r>239?4:r>223?3:r>191?2:1;if(o+l<=n){var c,s,u,p;switch(l){case 1:r<128&&(a=r);break;case 2:c=e[o+1],128==(192&c)&&(p=(31&r)<<6|63&c)>127&&(a=p);break;case 3:c=e[o+1],s=e[o+2],128==(192&c)&&128==(192&s)&&(p=(15&r)<<12|(63&c)<<6|63&s)>2047&&(p<55296||p>57343)&&(a=p);break;case 4:c=e[o+1],s=e[o+2],u=e[o+3],128==(192&c)&&128==(192&s)&&128==(192&u)&&(p=(15&r)<<18|(63&c)<<12|(63&s)<<6|63&u)>65535&&p<1114112&&(a=p)}}null===a?(a=65533,l=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),o+=l}return C(i)}function C(e){var t=e.length;if(t<=Q)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=Q));return n}function S(e,t,n){var i="";n=Math.min(e.length,n);for(var o=t;o<n;++o)i+=String.fromCharCode(127&e[o]);return i}function E(e,t,n){var i="";n=Math.min(e.length,n);for(var o=t;o<n;++o)i+=String.fromCharCode(e[o]);return i}function M(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",r=t;r<n;++r)o+=W(e[r]);return o}function R(e,t,n){for(var i=e.slice(t,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,i,o,a){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function D(e,t,n,i){t<0&&(t=65535+t+1);for(var o=0,r=Math.min(e.length-n,2);o<r;++o)e[n+o]=(t&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function F(e,t,n,i){t<0&&(t=4294967295+t+1);for(var o=0,r=Math.min(e.length-n,4);o<r;++o)e[n+o]=t>>>8*(i?o:3-o)&255}function B(e,t,n,i,o,r){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(e,t,n,i,o){return o||B(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,n,i,23,4),n+4}function I(e,t,n,i,o){return o||B(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,n,i,52,8),n+8}function U(e){if(e=q(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,i=e.length,o=null,r=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function Y(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function z(e,t){for(var n,i,o,r=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,o=n%256,r.push(o),r.push(i);return r}function H(e){return X.toByteArray(U(e))}function G(e,t,n,i){for(var o=0;o<i&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function J(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var X=n(30),K=n(34),Z=n(32);t.Buffer=r,t.SlowBuffer=h,t.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,n){return a(null,e,t,n)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,n){return c(null,e,t,n)},r.allocUnsafe=function(e){return s(null,e)},r.allocUnsafeSlow=function(e){return s(null,e)},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=r.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!r.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},r.byteLength=m,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?$(this,0,e):w.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e,t,n,i,o){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,l=n-t,c=Math.min(a,l),s=this.slice(i,o),u=e.slice(t,n),p=0;p<c;++p)if(s[p]!==u[p]){a=s[p],l=u[p];break}return a<l?-1:l<a?1:0},r.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},r.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},r.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},r.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return A(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;r.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i;if(r.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=r.prototype;else{var o=t-e;i=new r(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+e]}return i},r.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var i=this[e],o=1,r=0;++r<t&&(o*=256);)i+=this[e+r]*o;return i},r.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var i=this[e+--t],o=1;t>0&&(o*=256);)i+=this[e+--t]*o;return i},r.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var i=this[e],o=1,r=0;++r<t&&(o*=256);)i+=this[e+r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},r.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var i=t,o=1,r=this[e+--i];i>0&&(o*=256);)r+=this[e+--i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},r.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),K.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),K.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),K.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),K.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){L(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=1,r=0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=e/o&255;return t+n},r.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){L(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=n-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*n-1);L(this,e,t,n,o-1,-o)}var r=0,a=1,l=0;for(this[t]=255&e;++r<n&&(a*=256);)e<0&&0===l&&0!==this[t+r-1]&&(l=1),this[t+r]=(e/a>>0)-l&255;return t+n},r.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*n-1);L(this,e,t,n,o-1,-o)}var r=n-1,a=1,l=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===l&&0!==this[t+r+1]&&(l=1),this[t+r]=(e/a>>0)-l&255;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,n){return T(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return T(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o,a=i-n;if(this===e&&n<t&&t<i)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!r.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},r.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!r.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var l=r.isBuffer(e)?e:V(new r(e,i).toString()),c=l.length;for(a=0;a<n-t;++a)this[a+t]=l[a%c]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(36))},function(e,t,n){"use strict";var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t,n){"use strict";(function(t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t){var r=i(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([r]).join("\n")}return[n].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+new t(JSON.stringify(e)).toString("base64")+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}}).call(t,n(31).Buffer)},function(e,t,n){"use strict";t.read=function(e,t,n,i,o){var r,a,l=8*o-i-1,c=(1<<l)-1,s=c>>1,u=-7,p=n?o-1:0,f=n?-1:1,d=e[t+p];for(p+=f,r=d&(1<<-u)-1,d>>=-u,u+=l;u>0;r=256*r+e[t+p],p+=f,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=i;u>0;a=256*a+e[t+p],p+=f,u-=8);if(0===r)r=1-s;else{if(r===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,i),r-=s}return(d?-1:1)*a*Math.pow(2,r-i)},t.write=function(e,t,n,i,o,r){var a,l,c,s=8*r-o-1,u=(1<<s)-1,p=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:r-1,b=i?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+p>=1?f/c:f*Math.pow(2,1-p),t*c>=2&&(a++,c/=2),a+p>=u?(l=0,a=u):a+p>=1?(l=(t*c-1)*Math.pow(2,o),a+=p):(l=t*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+d]=255&l,d+=b,l/=256,o-=8);for(a=a<<o|l,s+=o;s>0;e[n+d]=255&a,d+=b,a/=256,s-=8);e[n+d-b]|=128*h}},function(e,t,n){"use strict";e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return e;var r;return r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"})}},function(e,t,n){"use strict";var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,n){t=e.exports=n(33)(void 0),t.push([e.i,".ab-generated-page {\n\toverflow-y: auto;\n}\n.ab-main-container {\n\tposition: relative;\n\tdisplay: block;\n\twidth: 100%;\n\tbackground: #ddd;\n}\n.ab-main-container .pointer {\n\tcursor: pointer;\n}\n.ab-main-container .right {\n\ttext-align: right;\n}\n.ab-main-container .center {\n\ttext-align: center;\n}\n.ab-main-container .left {\n\ttext-align: left;\n}\n.ab-text-bold {\n\tfont-weight: bold !important;\n}\n.ab-scroll-y {\n\toverflow-y: auto !important;\n}\n.ab-ellipses-text, .ab-ellipses-text > div {\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n.float-left {\n\tfloat: left;\n}\n.float-right {\n\tfloat: right;\n}\n\n/* Webix icon */\n.ab-main-container .webix_icon {\n\tline-height: inherit;\n}\n\n/* Fix overflow-x */\n.ab-generated-page .webix_scroll_cont {\n\toverflow: auto !important;\n}\n\n/* == Webix datatable == */\n/* Checkbox column */\n.ab-main-container .webix_hcell.center input[type=checkbox] {\n\twidth:20px;\n\theight:20px;\n\tmargin-top:12px;\n  }\n.ab-main-container .webix_table_checkbox {\n\twidth:20px;\n\theight:20px;\n\tmargin-top:5px;\n}\n/* Last column */\n.ab-main-container .webix_column.webix_last > div,\n.ab-main-container .webix_hs_center td.webix_last,\n.ab-main-container .ab-app-list-descriptionwebix_hs_right td.webix_last {\n\tborder-right-width: 1px !important;\n}\n/* No padding/margin column */\n.ab-column-no-padding div {\n\tpadding: 0px !important;\n\tmargin: 0px !important;\n}\n.ab-main-container .ab-cell-warn {\n\tbackground-color: #F5AE0F !important;\n}\n\n/* Webix selected item */\n.webix_list_item.webix_selected,\n.webix_column>div.webix_cell_select,\n.webix_column>div.webix_column_select,\n.webix_column>div.webix_row_select {\n\tbackground-color: #3498db !important;\n}\n\n/* Webix message */\n.webix_success {\n  background-color: #BFF2BF;\n}\n.webix_success div {\n  background-color: #BFF2BF;\n  border: 1px solid #007A00;\n  color: #000;\n}\n\n/* Webix list */\n.ab-main-container .webix_list_item .webix_selected,\n.ab-main-container .webix_tree_item.webix_selected {\n\tcolor: #fff !important;\n\tbackground-color: #3498db !important;\n}\n.ab-app-form-permission .webix_selected {\n\tcolor: #fff !important;\n\tbackground-color: #3AB9CE !important;\n}\n\n/* Webix segmented */\n.ab-form-component-item .webix_segment_0.webix_selected,\n.ab-form-component-item .webix_segment_1.webix_selected,\n.ab-form-component-item .webix_segment_N.webix_selected,\n.ab-component-view-edit-field .webix_segment_0.webix_selected,\n.ab-component-view-edit-field .webix_segment_1.webix_selected,\n.ab-component-view-edit-field .webix_segment_N.webix_selected {\n\tcolor: #fff !important;\n\tbackground-color: #3498db !important;\n}\n\n.ab-form-component-item .webix_segment_0,\n.ab-form-component-item .webix_segment_1,\n.ab-form-component-item .webix_segment_N,\n.ab-component-view-edit-field .webix_segment_0,\n.ab-component-view-edit-field .webix_segment_1,\n.ab-component-view-edit-field .webix_segment_N {\n\tcolor: #3498db;\n\tbackground: #fff;\n}\n\n/* Add new columns popup */\n.ab-add-fields-popup {\n\toverflow-y: auto;\n}\n\n/* Application list */\n.ab-app-list {\n/*\n\tmin-height: 300px;\n\tpadding: 40px 100px;\n*/\n}\n.ab-app-select-list .webix_selected {\n\tcolor: #000 !important;\n\tbackground-color: #dadada !important;\n}\n.ab-app-select-list .webix_list_item:hover {\n\tbackground: #ebebeb;\n}\n.ab-app-list-item {\n\tposition: relative;\n\theight: 100%;\n\tmargin: -2px -10px;\n\tpadding: 15px;\n\tline-height: 20px;\n}\ndiv[view_id='ab-app-list'] div.webix_list_item:hover,\ndiv[view_id='ab-object-list'] div.webix_list_item:hover,\ndiv[view_id='ab-object-list-menu'] div.webix_list_item:hover,\ndiv[view_id='ab-new-connectObject-list-item'] div.webix_list_item:hover,\ndiv[view_id='ab-edit-header-items'] div.webix_list_item:hover,\ndiv[view_id='ab-frozen-field-list'] div.webix_list_item:hover {\n\tbackground-color: #eee;\n}\n.ab-app-list-name {\n\tfont-weight: bold;\n\tfont-size: large;\n}\n.ab-app-list-description {\n\tcolor: darkgrey;\n\tfont-size: small;\n}\n.ab-app-list-info {\n\twidth: 95%;\n\tdisplay: inline-block;\n}\n.ab-app-list-edit {\n\tposition: absolute;\n\ttop: 0;\n\tright: 10px;\n\topacity: 0.4;\n\tline-height: 70px;\n\theight: 70px;\n}\n.ab-app-list-edit:hover {\n\topacity: 1;\n}\n\n/* Application workspace */\n.ab-app-workspace {\n\t/*min-height: 100px;*/\n}\n.ab-unsync-data-warning {\n\tcursor: pointer;\n    color: #fff;\n    background-color: #F5962F;\n    border: #fff dotted 1px !important;\n    padding-left: 2px;\n}\n.ab-unsync-data-popup .webix_win_head {\n\tbackground-color: #F5962F;\n}\n.ab-unsync-data-popup .webix_win_head .header {\n\tpadding-left: 5px;\n\tfont-weight: bold;\n    color: #fff;\n}\n.ab-unsync-data-status {\n\tpadding: 3px;\n}\n.ab-unsync-data-in-progress {\n\tbackground-color: #F5AE0F;\n}\n.ab-unsync-data-done {\n\tbackground-color: #3AB349;\n}\n.ab-unsync-data-error {\n\tbackground-color: #EC2F2F;\n}\n\n/* Object list */\n.ab-object-list-item {\n\tposition: relative;\n\theight: 100%;\n}\n.ab-object-list-edit {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 5px;\n\tdisplay: none;\n}\n.ab-object-unsync {\n\tbackground-color: #d2e3ef;\n\tcolor: #4a4a4a;\n\tposition: absolute;\n\ttop: 4px;\n\tright: 30px;\n\tfont-size: 12px;\n\tborder-radius: 6px;\n\tpadding: 0px 4px;\n\theight: 20px;\n\tline-height: 20px;\n\tdisplay: none;\n}\n\n/* Interface list */\n.ab-page-list-item {\n\tposition: relative;\n\theight: 100%;\n}\n.ab-page-list-edit {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 5px;\n\tdisplay: none;\n\tcursor: pointer;\n}\n\n/* Object datatable */\n.ab-object-data-header {\n\tposition: relative;\n}\n.ab-object-data-new-header {\n\tbackground-color: #cfd9e0;\n}\n\n.ab-object-data-header-edit {\n\tdisplay: none;\n\tposition: absolute;\n\ttop: 15px;\n\tright: 10px;\n}\n.ab-object-data-header:hover .ab-object-data-header-edit {\n\tdisplay: block;\n}\n.ab-object-unsync-data {\n\tbackground-color: #dae6fb;\n}\n.ab-object-view-column {\n\tcolor: #3498db;\n\tfont-weight: bold;\n\ttext-align: center;\n\tcursor: pointer;\n}\n\n/* Connect object data */\n.ab-connect-data-info {\n\tdisplay: inline-block;\n\twidth: 90px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.ab-connect-data-disable {\n\tbackground-color: #aaa;\n}\n\n/* Custom selectivity */\n.ab-main-container .selectivity-multiple-input-container {\n\tbackground: none !important;\n\tpadding: 0px !important;\n\toverflow: hidden !important;\n\tmax-height: 100% !important;\n}\n.ab-main-container .selectivity-multiple-selected-item {\n\tbackground: #3498db !important;\n\tpadding-right: 5px;\n\t/*max-width: 100px !important;*/\n}\n\n/* Interface tree view */\n.ab-main-container .webix_tree_item.webix_selected span {\n\tpadding: 0px;\n\tbackground: #3498db !important;\n}\n\n/* Interface new page popup */\n.ab-interface-new-quick-page {\n    overflow: scroll !important;\n\toverflow-x: hidden !important;\n\toverflow-y: auto !important;\n}\n\n.ab-interface-new-quick-page .webix_inp_checkbox_border label {\n\tfont-weight: normal; /* Override bootstrap*/\n}\n\n/* Interface page layout */\n.ab-component-drop-area {\n\tmargin-right: 2px;\n\tborder: 1px dashed #000 !important;\n\tbackground-color: #D3E9EF;\n\tbackground-image:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='30px' width='90px'><text x='20' y='20' fill='#95CBEF' font-size='15'>Drop Here</text></svg>\");\n}\n\ndiv[view_id='ab-interface-layout-page'] .webix_list_item,\n.ab-component-in-page {\n\twidth: 100%;\n\tposition: relative;\n\tbackground-color: #fff;\n\tclear: both;\n}\n\n.ab-component-item-name {\n\tfloat: left;\n\tfont-size: 18px;\n\tborder-right: 1px solid #ebebeb;\n\tvertical-align: top;\n\tpadding-top: 10px;\n\twidth: 90px;\n\tmargin-bottom: -500em; /* CSS hack: equal height of right float */\n\tpadding-bottom: 500em;\n}\n\n.ab-component-item-display {\n\tfloat: right;\n\tvertical-align: top;\n\tpadding: 10px;\n\twidth: 87%;\n\tline-height: 100%;\n\toverflow-x: auto;\n}\n\n.ab-component-remove {\n\tposition: absolute;\n\ttop: 5px;\n\tright: 1px;\n}\n\n.ab-component-link {\n\tcolor: #003B7E;\n\ttext-decoration: underline;\n\tcursor: pointer;\n}\n\n/* Interface component list */\n.ab-component-item-drag {\n\tborder: 1px dotted #000 !important;\n\tfont-size: 35px;\n\tbackground-color: #fff;\n}\n\n/* Header component */\n.ab-component-header {\n\tfont-size: 25px;\n\tfont-weight: bold;\n\tmargin: 0px;\n\tpadding: 0px;\n}\n.ab-component-description {\n\tfont-size: 14px;\n\tpadding: 0px;\n}\n\n/* Menu component */\n.ab-page-list-item .webix_tree_checkbox {\n\tmargin: 0px !important;\n}\n\n/* Grid component */\n.ab-page-grid-column-item .column-checkbox {\n\tdisplay: inline-block;\n\tposition: relative;\n\ttop: -5px;\n\twidth: 30px;\n}\n\n.ab-page-grid-column-item .column-empty-checkbox {\n\tposition: relative;\n\twidth: 50px;\n\theight: 38px;\n}\n\n.ab-page-grid-column-item .column-name {\n\tdisplay: inline-block;\n\tposition: relative;\n\ttop: -18px;\n}\n\n/* Form component */\n.ab-form-connect-data {\n\tfloat: left;\n\tborder: #CCC solid 1px;\n\tpadding: 0px 5px;\n\tmin-width: 70%;\n\tborder-radius: 6px;\n}\n\n.ab-main-container .webix_layout_form {\n\tbackground-color: #fff !important;\n}\n\n/* Loading Screen */\n.ab-loading-screen {\n\tbackground: #000;\n\topacity: 0.7;\n\tposition: absolute !important;\n}\n.ab-loading-body {\n\tbackground: #000;\n\tborder-width: 0px !important;\n}\n.ab-loading-message {\n\tcolor: #fff !important;\n\tbackground: #000 !important;\n\tfont-size: 30px !important;\n\ttext-align: center;\n\tvertical-align: middle;\n\tborder-width: 0px !important;\n\tpadding-top: 20% !important;\n\theight: 100px !important;\n}\n.ab-loading-button {\n\ttext-align: center;\n}\n.ab-loading-button button {\n\tbackground-color: #003B7E;\n\twidth: 200px;\n}\n.ab-loading-cancel-button {\n\ttext-align: center;\n\tbackground: transparent;\n}\n.ab-loading-cancel-button a {\n\tcolor: #fff !important;\n}\n.ab-loading-screen .webix_progress_bottom {\n\theight: 40px !important;\n\topacity: 1;\n}\n.ab-loading-screen .webix_progress_bottom .webix_progress_state {\n\theight: 40px !important;\n}\n\n/* Dynamic DataTable */\n.dynamic-datatable-view .webix_badge {\n\tmargin: 0 !important;\n}\n\n/* Number data field */\n.ab-number-format-show {\n\twhite-space: nowrap;\n}\n\n/* Icon Picker */\n.ab-main-container .iconpicker .iconpicker-items {\n\tcolor: #000;\n}\n",""])},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=b[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(u(i.parts[r],t))}else{for(var a=[],r=0;r<i.parts.length;r++)a.push(u(i.parts[r],t));b[i.id]={id:i.id,refs:1,parts:a}}}}function o(e){for(var t=[],n={},i=0;i<e.length;i++){var o=e[i],r=o[0],a=o[1],l=o[2],c=o[3],s={css:a,media:l,sourceMap:c};n[r]?n[r].parts.push(s):t.push(n[r]={id:r,parts:[s]})}return t}function r(e,t){var n=m(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=v[v.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function l(e){var t=document.createElement("style");return e.attrs.type="text/css",s(t,e.attrs),r(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",s(t,e.attrs),r(e,t),t}function s(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function u(e,t){var n,i,o;if(t.singleton){var r=g++;n=w||(w=l(t)),i=p.bind(null,n,r,!1),o=p.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),i=d.bind(null,n,t),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(t),i=f.bind(null,n),o=function(){a(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}function p(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function f(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t,n){var i=n.css,o=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(i=_(i)),o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([i],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}var b={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),m=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),w=null,g=0,v=[],_=n(35);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=h()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=o(e);return i(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var l=n[a],c=b[l.id];c.refs--,r.push(c)}if(e){i(o(e),t)}for(var a=0;a<r.length;a++){var c=r[a];if(0===c.refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete b[c.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var i=n(37);"string"==typeof i&&(i=[[e.i,i,""]]);n(38)(i,{});i.locals&&(e.exports=i.locals)}]);