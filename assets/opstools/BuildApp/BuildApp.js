!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t,n){"use strict";(function(e){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=o(i),l=n(6),r=o(l),c=n(5),u=o(c),s=n(7),d=o(s),p=n(3),b=o(p);window.OP={},e.Component={},e.CustomComponent={},e.Component.extend=function(t,n){e.Component[t]=function(t){t||(t=e.Component._newApp());var o=n(t);if(o.actions)for(var i in o.actions)t.actions[i]=o.actions[i];return o}},e.Component._newApp=function(){return{uuid:webix.uid(),actions:{},config:b.default.config(),custom:{},labels:{},unique:function(e){return e+this.uuid}}},e.CustomComponent.extend=function(t,n){e.CustomComponent[t]=function(t,o){return t||(t=e.Component._newApp()),n(t,o)}},e.Dialog=AD.op.Dialog,e.Error=AD.error,e.Form=a.default,e.Multilingual=r.default,e.Model=u.default,e.Util=d.default,t.default=e}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return AD.lang.label.getLabel(e)||t}function a(e){for(var t=[],n=e.getFirstId();n;){var o=e.getItem(n);t.push(o),n=e.getNextId(n)}return t}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(34);var r=n(14),c=function(e){return e&&e.__esModule?e:{default:e}}(r),u=[],s=function(){function t(n){var i=this;o(this,t),this.id=n.id,this.json=n.json,this.name=n.name||this.json.name||"",this.role=n.role,e.Multilingual.translate(this,this.json,t.fieldsMultilingual());var a=[];(n.json.objects||[]).forEach(function(e){a.push(new c.default(e,i))}),this._objects=a,this.Model=e.Model.get("opstools.BuildApp.ABApplication"),this.Model.Models(t)}return l(t,[{key:"destroy",value:function(){var e=this;if(this.id)return this.Model.destroy(this.id).then(function(){u.remove(e.id)})}},{key:"save",value:function(){var e=this,t=this.toObj();return t.id?this.Model.update(t.id,t).then(function(){u.updateItem(t.id,e)}):this.Model.create(t).then(function(t){e.id=t.id,u.add(e,0)})}},{key:"toObj",value:function(){e.Multilingual.unTranslate(this,this.json,t.fieldsMultilingual()),this.json.name=this.name;var n=[];return this._objects.forEach(function(e){n.push(e.toObj())}),this.json.objects=n,{id:this.id,name:this.name,json:this.json,role:this.role}}},{key:"assignPermissions",value:function(e){var t=this;return new Promise(function(n,o){AD.comm.service.put({url:"/app_builder/"+t.id+"/role/assign",data:{roles:e}}).fail(o).done(n)})}},{key:"getPermissions",value:function(){var e=this;return new Promise(function(t,n){AD.comm.service.get({url:"/app_builder/"+e.id+"/role"}).fail(n).done(t)})}},{key:"createPermission",value:function(){var e=this;return new Promise(function(t,n){AD.comm.service.post({url:"/app_builder/"+e.id+"/role"}).fail(n).done(t)})}},{key:"deletePermission",value:function(){var e=this;return new Promise(function(t,n){AD.comm.service.delete({url:"/app_builder/"+e.id+"/role"}).fail(n).done(t)})}},{key:"objects",value:function(e){return e=e||function(){return!0},this._objects.filter(e)}},{key:"objectNew",value:function(e){return new c.default(e,this)}},{key:"objectSave",value:function(e){return this.objects(function(t){return t.id==e.id}).length>0||this._objects.push(e),this.save()}}],[{key:"allApplications",value:function(){return new Promise(function(n,o){var i=e.Model.get("opstools.BuildApp.ABApplication");i.Models(t),i.findAll().then(function(e){u=e,n(e)}).catch(o)})}},{key:"create",value:function(n){return new Promise(function(o,i){var a={};e.Multilingual.unTranslate(n,a,t.fieldsMultilingual()),n.json=a,a.name=n.name,e.Model.get("opstools.BuildApp.ABApplication").create(n).then(function(e){var n=new t(e);u.add(n,0),o(n)}).catch(i)})}},{key:"fieldsMultilingual",value:function(){return["label","description"]}},{key:"isValid",value:function(t,n){var o=null;if("add"==t){var l=a(u),r=n.label.trim().replace(/ /g,"_").toLowerCase(),c=l.filter(function(e){return e.name.trim().toLowerCase()==r});c&&c.length>0&&(o=e.Form.validationError({name:"label",message:i("ab_form_application_duplicate_name","*Name (#name#) is already in use").replace("#name#",r)},o))}return o}}]),t}();t.default=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return AD.lang.label.getLabel(e)||t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function t(o,i,a){n(this,t),this.defaults=a,this.fromValues(o),e.Multilingual.translate(this,this,["label"]),this.object=i}return i(t,[{key:"fieldName",value:function(){return this.defaults.name}},{key:"fieldType",value:function(){return this.defaults.type}},{key:"fieldIcon",value:function(){return this.defaults.icon}},{key:"fieldMenuName",value:function(){return this.defaults.menuName}},{key:"fieldDescription",value:function(){return this.defaults.description}},{key:"isValid",value:function(){var t=this,n=null;return 0==this.object.fields(function(e){e.id,t.id;return e.id!=t.id&&e.columnName.toLowerCase()==t.columnName.toLowerCase()}).length||(n=e.Form.validationError({name:"columnName",message:o("ab.validation.object.name.unique","Field columnName must be unique (#name# already used in this Application)").replace("#name#",this.columnName)},n)),n}},{key:"destroy",value:function(){var e=this;return new Promise(function(t,n){e.id?e.object.fieldRemove(e).then(function(){t()}).catch(function(e){n(e)}):t()})}},{key:"save",value:function(){var t=this;return new Promise(function(n,o){t.id||(t.id=e.Util.uuid()),t.object.fieldSave(t).then(function(){n(t)}).catch(function(e){o(e)})})}},{key:"toObj",value:function(){return e.Multilingual.unTranslate(this,this,["label"]),{id:this.id,type:this.type,icon:this.icon,columnName:this.columnName,settings:this.settings,translations:this.translations}}},{key:"fromValues",value:function(e){this.id=e.id,this.type=e.type||this.fieldType(),this.icon=e.icon||this.fieldIcon(),this.label=e.label||e.settings.label||"?label?",this.columnName=e.columnName||"",this.translations=e.translations||[],this.settings=e.settings||{},this.settings.showIcon=e.settings.showIcon+""||"1",this.settings.showIcon=parseInt(this.settings.showIcon)}},{key:"columnHeader",value:function(e){var t={id:this.id,header:this.label};return e&&this.settings.showIcon&&(t.header='<span class="webix_icon fa-{icon}"></span>'.replace("{icon}",this.fieldIcon())+t.header),t}}],[{key:"clearEditor",value:function(e){var t={label:"",columnName:"",showIcon:1};for(var n in t){$$(e[n]).setValue(t[n])}}},{key:"editorPopulate",value:function(e,t){$$(e.label).setValue(t.label),$$(e.columnName).setValue(t.columnName),$$(e.showIcon).setValue(t.settings.showIcon)}},{key:"definitionEditor",value:function(e,t,n,o){var i=function(e,n){n=n||"",e!=n&&n==$$(t.columnName).getValue()&&$$(t.columnName).setValue(e)};return n.labelOnChange&&(i=n.labelOnChange),{rows:[{view:"label",label:"<span class='webix_icon fa-{0}'></span>{1}".replace("{0}",o.icon).replace("{1}",o.menuName)},{view:"text",id:t.label,name:"label",label:e.labels.dataFieldHeaderLabel,placeholder:e.labels.dataFieldHeaderLabelPlaceholder,labelWidth:e.config.labelWidthMedium,css:"ab-new-label-name",on:{onChange:function(e,t){i(e,t)}}},{view:"text",id:t.columnName,name:"columnName",label:e.labels.dataFieldColumnName,labelWidth:e.config.labelWidthMedium,placeholder:e.labels.dataFieldColumnNamePlaceholder},{view:"label",id:t.fieldDescription,label:o.description,align:"right"},{view:"checkbox",id:t.showIcon,name:"showIcon",labelRight:e.labels.dataFieldShowIcon,labelWidth:e.config.labelWidthCheckbox,value:!0}]}}},{key:"editorValues",value:function(e){var t={label:e.label,columnName:e.columnName,settings:e};return delete e.label,delete e.columnName,t}}]),t}();t.default=a}).call(t,n(0))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),a=o(i),l=n(9),r=o(l);t.default={config:function(){return window.innerWidth<768?r.default:a.default}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={validationError:function(e,t){t=t||{error:"E_VALIDATION",invalidAttributes:{}};var n=t.invalidAttributes;return n[e.name]=n[e.name]||[],n[e.name].push(e),t},isValidationError:function(e,t){var n=!1;if(e&&(e.error&&"E_UNKNOWN"==e.error&&e.raw&&e.raw.length>0&&(e=e.raw[0]),e.err&&(e=e.err),e.error&&"E_VALIDATION"==e.error||e.code&&"E_VALIDATION"==e.code)){var o=e.invalidAttributes;if(o){var i=!1;for(var a in o)if(t.elements[a]){var l=o[a],r=[];l.forEach(function(e){r.push(e.message)}),t.markInvalid(a,r.join(", ")),n||(t.elements[a].focus(),n=!0),i=!0}if(i)return!0}}return!1}}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a={findAll:"GET #url#",findOne:"GET #url#/{id}",create:"POST #url#",update:"PUT #url#/{id}",destroy:"DELETE #url#/{id}"},l={},r=function(){function e(t,n,i){o(this,e),this.key=t,this.staticData=n,this.instanceData=i,this.Model=n.Model,this.url={};for(var l in a)this.url[l]=n[l]}return i(e,[{key:"Models",value:function(e){this.Model=e}},{key:"findAll",value:function(e){var t=this;return new Promise(function(n,o){var i=t.service("findAll");AD.comm.service[i.verb]({url:i.url,params:e}).fail(o).done(function(e){if(e=e.data||e,Array.isArray(e)||(e=[e]),t.Model){var o=[];e.forEach(function(e){e&&o.push(new t.Model(e))}),e=o}var i=new webix.DataCollection({data:e,on:{onAfterDelete:function(e){}}});n(i)})})}},{key:"findOne",value:function(e){var t=this;return new Promise(function(n,o){var i=t.service("findOne"),a=i.url;for(var l in e){var r=a;a=AD.util.string.replaceAll(a,"{"+l+"}",e[l]),r!=a&&delete e[l]}i.url=a,AD.comm.service[i.verb]({url:i.url,params:e}).fail(o).done(function(e){e.translate&&e.translate(),n(e.attr?e.attr():e)})})}},{key:"create",value:function(e){var t=this;return new Promise(function(n,o){var i=t.service("create");AD.comm.service[i.verb]({url:i.url,params:e}).fail(o).done(function(e){e.translate&&e.translate(),n(e.attr?e.attr():e)})})}},{key:"update",value:function(e,t){var n=this;return new Promise(function(o,i){var a=n.service("update",e);AD.comm.service[a.verb]({url:a.url,params:t}).fail(i).done(o)})}},{key:"destroy",value:function(e){var t=this;return new Promise(function(n,o){var i=t.service("destroy",e);AD.comm.service[i.verb]({url:i.url,params:{}}).fail(o).done(n)})}},{key:"service",value:function(e,t){var n=this.url[e].split(" "),o=n[0].toLowerCase(),i=n.pop();if(t){var e="{id}";i=AD.util.string.replaceAll(i,e,t)}return{verb:o,url:i}}}]),e}();t.default={extend:function(e,t,n){if(t.restURL)for(var o in a)t[o]=a[o].replace("#url#",t.restURL);s(l,e)[u(e)]=new r(e,t,n)},get:function(e){return c(l,e)}};var c=function(e,t){var n=t.split("."),o=e;return n.forEach(function(e){if(null==o){console.error("! current name segment is null.  Check your given name to make sure it is properly given: ",e)}o&&(void 0===o[e]&&(o=null),o&&(o=o[e]))}),o},u=function(e){return e.split(".").pop()},s=function(e,t){var n=t.split("."),o=(n.pop(),e);return n.forEach(function(e){void 0===o[e]&&(o[e]={}),o=o[e]}),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={translate:function(e,t,n){t.translations||(t.translations=[]);var o=AD.lang.currentLanguage||"en";n&&n.length>0&&t.translations.forEach(function(t){t.language_code==o&&n.forEach(function(n){e[n]=t[n]||""})})},unTranslate:function(e,t,n){t=t||{},n=n||[],t.translations||(t.translations=[]);var o=AD.lang.currentLanguage||"en";if(n&&n.length>0){var i=!1;if(t.translations.forEach(function(t){t.language_code==o&&(n.forEach(function(n){t[n]=e[n]}),i=!0)}),!i){var a={};a.language_code=o,n.forEach(function(t){null!=e[t]&&(a[t]=e[t])}),t.translations.push(a)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={uuid:AD.util.uuid}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={appListRowHeight:70,buttonWidthLarge:200,buttonWidthMedium:150,buttonWidthSmall:100,buttonWidthExtraSmall:50,tabWidthLarge:200,tabWidthMedium:120,tabWidthSmall:100,tabWidthExtraSmall:50,smallSpacer:10,mediumSpacer:25,largeSpacer:50,appListSpacerRowHeight:100,appListSpacerColMinWidth:100,appListSpacerColMaxWidth:200,objectWorkspaceColWidth:20,labelWidthSmall:50,labelWidthMedium:80,labelWidthLarge:150,labelWidthCheckbox:0,hideMobile:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={appListRowHeight:70,buttonWidthLarge:200,smallSpacer:1,mediumSpacer:10,largeSpacer:20,appListSpacerRowHeight:10,appListSpacerColMinWidth:1,appListSpacerColMaxWidth:1,objectWorkspaceColWidth:1,labelWidthSmall:50,labelWidthMedium:80,labelWidthLarge:120,labelWidthCheckbox:0,hideMobile:!0}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(2),l=function(e){return e&&e.__esModule?e:{default:e}}(a),r=function(){function e(t){o(this,e),this.options=t,this.fieldDefaults=t.fieldDefaults||{},this.elements=t.elements||function(e){return[]},this.defaultValues=t.defaultValues||{},this.rules=t.rules||{},this.logic=t.logic||{},this.init=t.init||function(){},this.idBase=this.fieldDefaults.name||"??fieldName??",this.ids={}}return i(e,[{key:"component",value:function(e){var t=this,n=this.elements(e,this),o={component:e.unique(this.idBase+"_component"),label:e.unique(this.idBase+"_label"),columnName:e.unique(this.idBase+"_columnName"),fieldDescription:e.unique(this.idBase+"_fieldDescription"),showIcon:e.unique(this.idBase+"_showIcon")};this.eachDeep(n,function(e){e.name&&(e.id&&(o[e.name]=e.id),t.ids[e.name]=e.name)});for(var i in this.ids)o[i]||(o[i]=e.unique(this.idBase+"_"+i));this.eachDeep(n,function(e){e.name&&(e.id=o[e.name])});var a={view:"form",id:o.component,autoheight:!0,borderless:!0,elements:[],rules:{label:webix.rules.isNotEmpty,columnName:webix.rules.isNotEmpty}},r=function(){this.init(o)},c={clear:function(){l.default.clearEditor(o);for(var e in t.defaultValues){var n=$$(o[e]);n?n.setValue(t.defaultValues[e]):console.warn("!! could not find component for default value: name:"+e+" id:"+o[e])}$$(o.component).clearValidation(),t.logic.clear&&t.logic.clear(o)},hide:function(){$$(o.component).clearValidation(),$$(o.component).hide(!1,!1),t.logic.hide&&t.logic.hide(o)},isValid:function(){var e=$$(o.component).validate();return t.logic.isValid&&(e=t.logic.isValid(o,e)),e},populate:function(e){console.error("TODO: .populate()"),l.default.editorPopulate(o,e),t.eachDeep(n,function(t){$$(o[t.name]).setValue(e.settings[t.name])}),t.logic.populate&&t.logic.populate(o,e)},show:function(e,n){$$(o.component).clearValidation(),$$(o.component).show(e,n),t.logic.show&&t.logic.show(o)},values:function(){var e=$$(o.component).getValues(),n=l.default.editorValues(e);return n.type=t.fieldDefaults.type,t.logic.values&&(n=t.logic.values(o,n)),n}};for(var u in this.logic)c[u]||(c[u]=this.logic[u]);var s=l.default.definitionEditor(e,o,c,this.fieldDefaults);a.elements=s.rows.concat(n);for(var d in this.rules)a.rules[d]=this.rules[d];return this._component={ui:a,init:r,clear:c.clear,hide:c.hide,isValid:c.isValid,populate:c.populate,show:c.show,values:c.values,_logic:c}}},{key:"eachDeep",value:function(e,t){var n=this;e.forEach(function(e){return e.cols?void n.eachDeep(e.cols,t):e.rows?void n.eachDeep(e.rows,t):void t(e)})}},{key:"idsUnique",value:function(e,t){for(var n in e)""==e[n]?e[n]=t.unique(this.idBase+"_"+n):e[n]=t.unique(this.idBase+"_"+e[n]);return e}}]),e}();t.default=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),a=o(i),l=n(16),r=o(l),c=n(15),u=o(c),s={};s[a.default.defaults().name]=a.default,s[r.default.defaults().name]=r.default,s[u.default.defaults().name]=u.default,t.default={allFields:function(){var e=[];for(var t in s)e.push(s[t]);return e},newField:function(e,t){if(e.type)return new s[e.type](e,t)}}},function(e,t,n){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}n(18),n(22);var o=n(36),i=t(o),a=n(35),l=t(a),r=n(41);t(r);e.Component.extend("ab",function(t){function n(e,t){return AD.lang.label.getLabel(e)||t}t.labels={add:n("ab.common.add","*Add"),create:n("ab.common.create","*Create"),delete:n("ab.common.delete","*Delete"),edit:n("ab.common.edit","*Edit"),export:n("ab.common.export","*Export"),formName:n("ab.common.form.name","*Name"),import:n("ab.common.import","*Import"),ok:n("ab.common.ok","*Ok"),cancel:n("ab.common.cancel","*Cancel"),save:n("ab.common.save","*Save"),yes:n("ab.common.yes","*Yes"),no:n("ab.common.no","*No"),createErrorMessage:n("ab.common.create.error","*System could not create <b>{0}</b>."),createSuccessMessage:n("ab.common.create.success","*<b>{0}</b> is created."),updateErrorMessage:n("ab.common.update.error","*System could not update <b>{0}</b>."),updateSucessMessage:n("ab.common.update.success","*<b>{0}</b> is updated."),deleteErrorMessage:n("ab.common.delete.error","*System could not delete <b>{0}</b>."),deleteSuccessMessage:n("ab.common.delete.success","*<b>{0}</b> is deleted."),dataFieldHeaderLabel:n("ab.dataField.common.headerLabel","*Label"),dataFieldHeaderLabelPlaceholder:n("ab.dataField.common.headerLabelPlaceholder","*Header Name"),dataFieldColumnName:n("ab.dataField.common.columnName","*Name"),dataFieldColumnNamePlaceholder:n("ab.dataField.common.columnNamePlaceholder","*Column Name"),dataFieldShowIcon:n("ab.dataField.common.showIcon","*show icon?")},e.CustomComponent[i.default.key](t,"edittree"),e.CustomComponent[l.default.key](t,"editlist");var o={component:t.unique("app_builder_root")},a=e.Component.ab_choose(t),r=e.Component.ab_work(t);return{ui:{id:o.component,view:"multiview",borderless:!0,animate:!1,rows:[a.ui,r.ui]},init:function(){a.init(),r.init(),t.actions.transitionApplicationChooser(),$$(o.component).adjust()},actions:{}}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){n(12),AD.Control.OpsTool.extend("BuildApp",{init:function(e,t){var n=this;t=AD.defaults({templateDOM:"/opstools/BuildApp/views/BuildApp/BuildApp.ejs",resize_notification:"BuildApp.resize",tool:null},t),n.options=t,n._super(e,t),n.data={},n.webixUiId={loadingScreen:"ab-loading-screen",syncButton:"ab-sync-button"},n.initDOM(function(){n.initWebixUI()})},initDOM:function(e){var t=this;can.view(this.options.templateDOM,{},function(n){t.element.html(n),e()})},initWebixUI:function(){var t=e.Component.ab(),n=t.ui;n.container="ab-main-container",this.AppBuilder=webix.ui(n),t.init()},resize:function(e){var t=this;e=e.height||e;var n=$(t.element);if(n){var o=n.parent().css("width");o&&(o=parseInt(o.replace("px",""))),n.width(o);var i=e;console.log("computed height: "+i);var a=parseInt(n.css("min-height").replace("px",""));console.log("min-height: "+a),a<i?(n.height(i),$("#ab-main-container").height(i)):(n.height(a),$("#ab-main-container").height(a)),this.AppBuilder&&this.AppBuilder.adjust()}}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return AD.lang.label.getLabel(e)||t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(11),r=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(){function t(n,i){var a=this;o(this,t),this.id=n.id,this.name=n.name||"",this.labelFormat=n.labelFormat||"",this.isImported=n.isImported||0,this.urlPath=n.urlPath||"",this.importFromObject=n.importFromObject||"",this.translations=n.translations,this.objectWorkspace=n.objectWorkspace||{hiddenFields:[]},e.Multilingual.translate(this,this,["label"]);var l=[];(n.fields||[]).forEach(function(e){l.push(a.fieldNew(e))}),this._fields=l,this.application=i}return a(t,[{key:"isValid",value:function(){var t=this,n=null;return 0==this.application.objects(function(e){return e.name.toLowerCase()==t.name.toLowerCase()}).length||(n=e.Form.validationError({name:"name",message:i("ab.validation.object.name.unique","Object name must be unique (#name# already used in this Application)").replace("#name#",this.name)},n)),n}},{key:"destroy",value:function(){this.id&&console.error("TODO: ABObject.destroy()")}},{key:"save",value:function(){var t=this;return new Promise(function(n,o){t.id||(t.id=e.Util.uuid(),t.label=t.label||t.name,t.urlPath=t.urlPath||t.application.name+"/"+t.name),t.application.objectSave(t).then(function(){n(t)}).catch(function(e){o(e)})})}},{key:"toObj",value:function(){e.Multilingual.unTranslate(this,this,["label"]);var t=[];return this._fields.forEach(function(e){t.push(e.toObj())}),{id:this.id,name:this.name,labelFormat:this.labelFormat,isImported:this.isImported,urlPath:this.urlPath,importFromObject:this.importFromObject,objectWorkspace:this.objectWorkspace,translations:this.translations,fields:t}}},{key:"fields",value:function(e){return e=e||function(){return!0},this._fields.filter(e)}},{key:"fieldNew",value:function(e){return r.default.newField(e,this)}},{key:"fieldRemove",value:function(e){return this._fields=this.fields(function(t){return t.id!=e.id}),this.save()}},{key:"fieldSave",value:function(e){return this.fields(function(t){return t.id==e.id}).length>0||this._fields.push(e),this.save()}},{key:"columnHeaders",value:function(e){var t=[],n={};return this._fields.forEach(function(o){var i=o.columnHeader(e);t.push(i),n[i.id]=o.id}),e&&(t.forEach(function(e){e.adjust=!0}),this.workspaceHiddenFields.forEach(function(e){t.forEach(function(t){n[t.id]==e&&(t.hidden=!0)})})),t}},{key:"workspaceHiddenFields",get:function(){return this.objectWorkspace.hiddenFields},set:function(e){this.objectWorkspace.hiddenFields=e}}]),t}();t.default=c}).call(t,n(0))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){return AD.lang.label.getLabel(e)||t}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var l=i.get;if(void 0!==l)return l.call(o)},s=n(2),d=o(s),p=n(10),b=o(p),f={name:"image",type:"string",icon:"file-image-o",menuName:r("ab.dataField.image.menuName","*Image Attachment"),description:r("ab.dataField.image.description","*Attach an image to this object.")},m={useWidth:0,imageWidth:"",useHeight:0,imageHeight:""},h=new b.default({fieldDefaults:f,elements:function(e,t){var n={imageWidth:"",imageHeight:""};return n=t.idsUnique(n,e),[{cols:[{view:"checkbox",name:"useWidth",labelRight:r("ab.dataField.image.width","*width"),width:80,labelWidth:0,value:1,click:function(){this.getValue()?$$(n.imageWidth).enable():$$(n.imageWidth).disable()}},{view:"text",name:"imageWidth",id:n.imageWidth}]},{cols:[{view:"checkbox",name:"useHeight",labelRight:r("ab.dataField.image.height","*height"),width:80,labelWidth:0,value:1,click:function(){this.getValue()?$$(n.imageHeight).enable():$$(n.imageHeight).disable()}},{view:"text",name:"imageHeight",id:n.imageHeight}]}]},defaultValues:m,rules:{},logic:{},init:function(e){}}),v=function(e){function t(e,n){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,f));for(var l in m)o.settings[l]=e.settings[l]||m[l];return o.settings.useWidth=parseInt(o.settings.useWidth),o.settings.useHeight=parseInt(o.settings.useHeight),o}return l(t,e),c(t,[{key:"isValid",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"isValid",this).call(this)}},{key:"columnHeader",value:function(e){var n=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"columnHeader",this).call(this,e);return n.editor="text",n.sort="string",n}}],[{key:"defaults",value:function(){return f}},{key:"propertiesComponent",value:function(e){return h.component(e)}}]),t}(d.default);t.default=v},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){return AD.lang.label.getLabel(e)||t}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var l=i.get;if(void 0!==l)return l.call(o)},s=n(2),d=o(s),p=n(10),b=o(p),f={name:"number",type:"number",icon:"slack",menuName:r("ab.dataField.number.menuName","*Number"),description:r("ab.dataField.number.description","*A Float or Integer Value")},m=[{id:"none",value:r("ab.dataField.number.none","*None")},{id:"dollar",value:r("ab.dataField.number.format.dollar","$"),sign:"$",position:"prefix"},{id:"pound",value:r("ab.dataField.number.format.pound","£"),sign:"£",position:"prefix"},{id:"euroBefore",value:r("ab.dataField.number.format.euroBefore","€ (before)"),sign:"€",position:"prefix"},{id:"euroAfter",value:r("ab.dataField.number.format.euroAfter","€ (after)"),sign:"€",position:"postfix"},{id:"percent",value:r("ab.dataField.number.format.percent","%"),sign:"%",position:"postfix"}],h={allowRequired:0,numberDefault:"",typeFormat:"none",typeDecimals:"none",typeDecimalPlaces:"none",typeRounding:"none",typeThousands:"none",validation:0,validateMinimum:"",validateMaximum:""},v=new b.default({fieldDefaults:f,elements:function(e,t){var n={typeDecimalPlaces:"",typeRounding:"",validateMinimum:"",validateMaximum:""};return n=t.idsUnique(n,e),[{view:"checkbox",name:"allowRequired",labelRight:r("ab.dataField.number.required","*Required"),inputWidth:130,labelWidth:0},{view:"text",label:r("ab.dataField.number.defaultValue","*Default Value"),labelWidth:"100",name:"numberDefault",placeholder:r("ab.dataField.number.defaultNumber","*Default number"),on:{onChange:function(e,t){new RegExp("^[0-9.]*$").test(e)||this.setValue(t)}}},{view:"richselect",name:"typeFormat",label:r("ab.dataField.number.format","*Format"),value:"none",options:m},{cols:[{view:"richselect",name:"typeDecimals",label:r("ab.dataField.number.decimals","*Decimals"),value:"none",options:[{id:"none",value:r("ab.dataField.number.none","*None")},{id:"period",value:r("ab.dataField.number.period","*Period")},{id:"comma",value:r("ab.dataField.number.comma","*Comma")}],on:{onChange:function(e,t){"none"==e?($$(n.typeDecimalPlaces).disable(),$$(n.typeRounding).disable()):($$(n.typeDecimalPlaces).enable(),$$(n.typeRounding).enable())}}},{view:"richselect",id:n.typeDecimalPlaces,name:"typeDecimalPlaces",label:"Places",value:"none",disabled:!0,options:[{id:"none",value:"0"},{id:1,value:"1"},{id:2,value:"2"},{id:3,value:"3"},{id:4,value:"4"},{id:5,value:"5"},{id:10,value:"10"}]}]},{view:"radio",id:n.typeRounding,name:"typeRounding",label:r("ab.dataField.number.rounding","*Rounding"),value:"none",vertical:!0,disabled:!0,options:[{id:"none",value:r("ab.dataField.number.default","*Default")},{id:"roundUp",value:r("ab.dataField.number.roundUp","*Round Up")},{id:"roundDown",value:r("ab.dataField.number.roundDown","*Round Down")}]},{view:"radio",name:"typeThousands",label:r("ab.dataField.number.thousands","*Thousands"),value:"none",vertical:!0,options:[{id:"none",value:r("ab.dataField.number.none","*None")},{id:"comma",value:r("ab.dataField.number.comma","*Comma")},{id:"period",value:r("ab.dataField.number.period","*Period")},{id:"space",value:r("ab.dataField.number.space","*Space")}]},{view:"checkbox",name:"validation",labelWidth:0,labelRight:r("ab.dataField.number.validation","*Validation"),on:{onChange:function(e){e?($$(n.validateMinimum).enable(),$$(n.validateMaximum).enable()):($$(n.validateMinimum).disable(),$$(n.validateMaximum).disable())}}},{view:"text",id:n.validateMinimum,name:"validateMinimum",label:r("ab.dataField.number.minimum","*Minimum"),on:{onChange:function(e,t){new RegExp("^[0-9.]*$").test(e)||$$(n.validateMinimum).setValue(t||"")}}},{view:"text",id:n.validateMaximum,name:"validateMaximum",label:r("ab.dataField.number.maximum","*Maximum"),on:{onChange:function(e,t){new RegExp("^[0-9.]*$").test(e)||$$(n.validateMaximum).setValue(t||"")}}}]},defaultValues:h,rules:{},logic:{populate:function(e,t){t.settings.validation?($$(e.validateMinimum).enable(),$$(e.validateMaximum).enable()):($$(e.validateMinimum).disable(),$$(e.validateMaximum).disable())}},init:function(e){}}),w=function(e){function t(e,n){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,f));for(var l in h)o.settings[l]=e.settings[l]||h[l];return o.settings.allowRequired=parseInt(o.settings.allowRequired),o.settings.validation=parseInt(o.settings.validation),o}return l(t,e),c(t,[{key:"isValid",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"isValid",this).call(this)}},{key:"columnHeader",value:function(e){var n=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"columnHeader",this).call(this,e);return n.editor="number",n.sort="int",n}}],[{key:"defaults",value:function(){return f}},{key:"propertiesComponent",value:function(e){return v.component(e)}}]),t}(d.default);webix.editors.number=webix.extend({},webix.editors.text),t.default=w},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){return AD.lang.label.getLabel(e)||t}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,o)}if("value"in i)return i.value;var l=i.get;if(void 0!==l)return l.call(o)},s=n(2),d=o(s),p=n(10),b=o(p),f={name:"string",type:"string",icon:"font",menuName:r("ab.dataField.string.menuName","*Single line text"),description:r("ab.dataField.string.description","*short string value")},m=new b.default({fieldDefaults:f,elements:function(e){return[{view:"text",name:"textDefault",labelWidth:e.config.labelWidthLarge,placeholder:r("ab.dataField.string.default","*Default text")},{view:"checkbox",name:"supportMultilingual",labelRight:r("ab.dataField.string.supportMultilingual","*Support multilingual"),labelWidth:e.config.labelWidthCheckbox,value:!0}]},defaultValues:{textDefault:"",supportMultilingual:1},rules:{},logic:{},init:function(e){}}),h=function(e){function t(e,n){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,f));return o.settings.textDefault=e.settings.textDefault||"",o.settings.supportMultilingual=e.settings.supportMultilingual+""||"1",o.settings.supportMultilingual=parseInt(o.settings.supportMultilingual),o}return l(t,e),c(t,[{key:"isValid",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"isValid",this).call(this)}},{key:"columnHeader",value:function(e){var n=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"columnHeader",this).call(this,e);return n.editor="text",n.sort="string",n}}],[{key:"defaults",value:function(){return f}},{key:"propertiesComponent",value:function(e){return m.component(e)}}]),t}(d.default);t.default=h},function(e,t,n){"use strict";(function(e){n(20),n(19);e.Component.extend("ab_choose",function(t){var n={component:t.unique("ab_choose_component")},o=e.Component.ab_choose_list(t),i=e.Component.ab_choose_form(t);return{ui:{view:"multiview",animate:!1,id:n.component,cells:[o.ui,i.ui]},init:function(){o.init(),i.init()},actions:{transitionApplicationChooser:function(){$$(n.component).show()}},_logic:{}}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function t(e,t){return AD.lang.label.getLabel(e)||t}var o=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a={component:{formHeader:t("ab.application.form.header","*Application Info"),placeholderName:t("ab.application.form.placeholderName","*Application name"),placeholderDescription:t("ab.application.form.placeholderDescription","*Application description"),formDescription:t("ab.application.form.formDescription","*Description"),sectionPermission:t("ab.application.form.sectionPermission","*Permission"),permissionHeader:t("ab.application.form.headerPermission","*Who can use this app?"),createNewRole:t("ab.application.form.createNewRoleButton","*Create new roll"),invalidName:t("ab.application.invalidName","*This application name is invalid"),duplicateName:t("ab.application.duplicateName","*Name must be unique.")}},l="ab_choose_form";e.Component.extend(l,function(t){a.common=t.labels;var n={component:t.unique(l+"_component"),form:t.unique(l+"_form"),appFormPermissionList:t.unique(l+"_permission"),appFormCreateRoleButton:t.unique(l+"_createRole"),saveButton:t.unique(l+"_buttonSave")},o={id:n.component,responsive:"hide",cols:[{maxWidth:t.config.appListSpacerColMaxWidth,minWidth:t.config.appListSpacerColMinWidth,width:t.config.appListSpacerColMaxWidth},{responsiveCell:!1,rows:[{maxHeight:t.config.appListSpacerRowHeight,hidden:t.config.hideMobile},{view:"toolbar",cols:[{view:"label",label:a.component.formHeader,fillspace:!0}]},{view:"form",id:n.form,autoheight:!0,margin:0,elements:[{name:"label",view:"text",label:a.common.formName,required:!0,placeholder:a.component.placeholderName,labelWidth:100,on:{onChange:function(e,t){u.permissionRenameRole(e,t)}}},{height:t.config.smallSpacer},{name:"description",view:"textarea",label:"Description",labelAlign:"left",labelWidth:100,placeholder:a.component.placeholderDescription,height:100},{height:t.config.smallSpacer},{view:"toolbar",css:"ab-toolbar-submenu",cols:[{template:a.component.permissionHeader,type:"header",borderless:!0},{view:"toggle",id:n.appFormCreateRoleButton,type:"icon",align:"right",autowidth:!0,css:"ab-standard-button",offIcon:"square-o",onIcon:"check-square-o",label:a.component.createNewRole,on:{onItemClick:function(e,t){u.createRoleButtonClick()}}}]},{name:"permissions",id:n.appFormPermissionList,view:"list",autowidth:!0,autoheight:!0,margin:0,css:"ab-app-form-permission",template:"{common.markCheckbox()} #name#",type:{markCheckbox:function(e){return"<span class='check webix_icon fa-"+(e.markCheckbox?"check-":"")+"square-o'></span>"}},on:{onItemClick:function(e,t,n){u.permissionClick(e,t,n)}}},{height:t.config.smallSpacer},{margin:5,cols:[{fillspace:!0},{view:"button",value:a.common.cancel,width:t.config.buttonWidthSmall,css:"ab-cancel-button",click:function(){u.cancel()}},{id:n.saveButton,view:"button",label:a.common.save,type:"form",width:t.config.buttonWidthSmall,click:function(){u.buttonSaveClick()}}]}]},{maxHeight:t.config.appListSpacerRowHeight,hidden:t.config.hideMobile}]},{maxWidth:t.config.appListSpacerColMaxWidth,minWidth:t.config.appListSpacerColMinWidth,width:t.config.appListSpacerColMaxWidth}]},r=["label","description"],c=function(){webix.extend($$(n.form),webix.ProgressBar),webix.extend($$(n.appFormPermissionList),webix.ProgressBar)},u={applicationCreate:function(e){var n={name:e.label,label:e.label,description:e.description};async.waterfall([function(e){i.default.create(n).then(function(t){e(null,t)}).catch(e)},function(e,t){u.permissionSave(e).then(function(){t()}).catch(t)}],function(n){if(u.formReady(),n)return webix.message({type:"error",text:a.common.createErrorMessage.replace("{0}",e.label)}),AD.error.log("App Builder : Error create application data",{error:n}),void u.buttonSaveEnable();t.actions.transitionApplicationList(),webix.message({type:"success",text:a.common.createSuccessMessage.replace("{0}",e.label)}),u.buttonSaveEnable()})},applicationUpdate:function(e){var n=u.formValues();async.waterfall([function(t){u.permissionSave(e).then(function(e){t(null,e)}).catch(t)},function(t,o){e.label=n.label,e.description=n.description,t&&t.id?e.role=t.id:e.role=null,e.save().then(function(){o()}).catch(o)}],function(n){if(u.formReady(),u.buttonSaveEnable(),n)return webix.message({type:"error",text:a.common.updateErrorMessage.replace("{0}",e.label)}),AD.error.log("App Builder : Error update application data",{error:n}),!1;t.actions.transitionApplicationList(),webix.message({type:"success",text:a.common.updateSucessMessage.replace("{0}",e.label)})})},buttonSaveClick:function(){u.buttonSaveDisable(),u.formBusy();var e=t.actions.getSelectedApplication();e?u.formValidate("update")&&u.applicationUpdate(e):u.formValidate("add")&&u.applicationCreate(u.formValues())},buttonSaveDisable:function(){$$(n.saveButton).disable()},buttonSaveEnable:function(){$$(n.saveButton).enable()},cancel:function(){u.formReset(),t.actions.transitionApplicationList()},createRoleButtonClick:function(){if($$(n.appFormCreateRoleButton).getValue()){var e=$$(n.form).elements.label.getValue();u.permissionAddNew(e)}else u.permissionRemoveNew()},formBusy:function(){$$(n.form).showProgress({type:"icon"})},formPopulate:function(e){var t=$$(n.form);e&&r.forEach(function(n){t.elements[n]&&t.elements[n].setValue(e[n])})},formReady:function(){$$(n.form).hideProgress()},formReset:function(){$$(n.form).clear(),$$(n.form).clearValidation()},formValidate:function(t){var o=$$(n.form);if(!o.validate())return u.buttonSaveEnable(),!1;var a=i.default.isValid(t,o.getValues());return!e.Form.isValidationError(a,o)||(u.formReady(),u.buttonSaveEnable(),!1)},formValues:function(){return $$(n.form).getValues()},permissionAddNew:function(e){$$(n.appFormPermissionList).add({id:"newRole",name:u.permissionName(e),isApplicationRole:!0,markCheckbox:1},0);var t=$$(n.appFormPermissionList).getSelectedId(!0);t.push("newRole"),$$(n.appFormPermissionList).select(t)},permissionClick:function(e,t,o){var i=$$(n.appFormPermissionList),a=i.getItem(e);if(!i.getItem(e).isApplicationRole)if(i.isSelected(e))a.markCheckbox=0,i.unselect(e);else{a.markCheckbox=1;var l=i.getSelectedId();"string"!=typeof l&&isNaN(l)||(l=l?[l]:[]),l.push(e),i.select(l),i.updateItem(e,a)}},permissionName:function(e){return e+" Application Role"},permissionPopulate:function(e){var t=$$(n.appFormPermissionList);t.showProgress({type:"icon"}),async.waterfall([function(t){AD.comm.service.get({url:"/app_builder/user/roles"}).fail(function(e){t(e)}).done(function(n){var o=n.map(function(t){return e&&t.name==u.permissionName(e.name.split("_").join(" "))&&(t.isApplicationRole=!0),t});t(null,o)})},function(t,n){e&&e.id?e.getPermissions().then(function(e){n(null,t,e)}).catch(function(e){n(e)}):n(null,t,[])},function(o,i,a){if(e&&e.role&&o.forEach(function(t){t.id==(e.role.id||e.role)&&(t.isApplicationRole=!0,t.markCheckbox=1)}),o.sort(function(e,t){return e.isApplicationRole===t.isApplicationRole?0:e.isApplicationRole?-1:1}),t.clearAll(),t.parse(o),i&&i.length>0){t.select(i),o.forEach(function(e){if(i.indexOf(e.id)>-1){var t=$$(n.appFormPermissionList).getItem(e.id);t.markCheckbox=1,$$(n.appFormPermissionList).updateItem(e.id,t)}});var l=o.filter(function(e){return e.isApplicationRole}).length>0?1:0;$$(n.appFormCreateRoleButton).setValue(l)}a()}],function(e){e&&webix.message(e.message),t.hideProgress()})},permissionRemoveNew:function(){$$(n.appFormPermissionList).find(function(e){return e.isApplicationRole}).forEach(function(e){$$(n.appFormPermissionList).remove(e.id)})},permissionRenameRole:function(e,t){$$(n.appFormPermissionList).find(function(e){return e.name===u.permissionName(t)}).forEach(function(t){var o=$$(n.appFormPermissionList).getItem(t.id);o.name=u.permissionName(e),$$(n.appFormPermissionList).updateItem(o.id,o)})},permissionSave:function(e){return new Promise(function(t,o){var i=[],a=null;if($$(n.appFormCreateRoleButton).getValue()){var l=$$(n.appFormPermissionList).getSelectedItem(!0);l=l.filter(function(e){return e.isApplicationRole}),0==l.length&&i.push(function(t){e.createPermission().then(function(e){a=e,t()}).catch(t)})}else i.push(function(t){e.deletePermission().then(function(){t()}).catch(t)});var r=$$(n.appFormPermissionList).getSelectedItem(!0);r=r.filter(function(e){return"newRole"!==e.id}),i.push(function(t){if($$(n.appFormCreateRoleButton).getValue()&&a){var o=r.filter(function(e){return e.id==a.id});(!o||o.length<1)&&r.push({id:a.id,isApplicationRole:!0})}e.assignPermissions(r).then(function(){t()}).catch(t)}),async.series(i,function(e,n){e?o(e):t(a)})})},show:function(){$$(n.component).show()}};return{ui:o,init:c,actions:{transitionApplicationForm:function(e){void 0===e&&t.actions.unselectApplication(),u.formReset(),e&&u.formPopulate(e),u.permissionPopulate(e),u.show()}},_logic:u}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function t(e,t){return AD.lang.label.getLabel(e)||t}var o=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(o);n(21);var a={component:{title:t("ab.application.application","*Application"),createNew:t("ab.application.createNew","*Add new application"),noApplication:t("ab.application.noApplication","*There is no application data")}},l="ab_choose_list";e.Component.extend(l,function(t){a.common=t.labels;var n={component:t.unique(l+"_component"),uploader:t.unique(l+"_uploader"),list:t.unique(l+"_list"),toolBar:t.unique(l+"_toolbar"),buttonCreateNewApplication:t.unique(l+"_buttonNewApp")},o=e.Component.ab_choose_list_menu(t),r=webix.ui(o.ui);r.hide();var c={id:n.component,responsive:"hide",cols:[{maxWidth:t.config.appListSpacerColMaxWidth,minWidth:t.config.appListSpacerColMinWidth,width:t.config.appListSpacerColMaxWidth},{responsiveCell:!1,rows:[{maxHeight:t.config.appListSpacerRowHeight,hidden:t.config.hideMobile},{view:"toolbar",id:n.toolBar,cols:[{view:"label",label:a.component.title,fillspace:!0},{id:n.buttonCreateNewApplication,view:"button",label:a.component.createNew,autowidth:!0,type:"icon",icon:"plus",click:function(){t.actions.transitionApplicationForm()}},{view:"uploader",id:n.uploader,label:a.common.import,autowidth:!0,upload:"/app_builder/appJSON",multiple:!1,type:"icon",icon:"upload",autosend:!0,on:{onAfterFileAdd:function(){s.onAfterFileAdd()},onFileUpload:function(e,t){s.onFileUpload(e,t)},onFileUploadError:function(e,t){s.onFileUploadError(e,t)}}}]},{id:n.list,view:"list",css:"ab-app-select-list",template:function(e,t){return s.templateListItem(e,t)},type:{height:t.config.appListRowHeight,iconGear:"<span class='webix_icon fa-cog'></span>"},select:!1,onClick:{"ab-app-list-item":function(e,t,n){return s.onClickListItem(e,t,n)},"ab-app-list-edit":function(e,t,n){return s.onClickListEdit(e,t,n)}}},{maxHeight:t.config.appListSpacerRowHeight,hidden:t.config.hideMobile}]},{maxWidth:t.config.appListSpacerColMaxWidth,minWidth:t.config.appListSpacerColMinWidth,width:t.config.appListSpacerColMaxWidth}]},u={},s={busy:function(){$$(n.list).showProgress&&$$(n.list).showProgress({icon:"cursor"})},loadData:function(){s.busy(),i.default.allApplications().then(function(e){s.ready(),e.attachEvent("onAfterAdd",function(e,t){s.refreshOverlay()}),e.attachEvent("onAfterDelete",function(e){s.refreshOverlay()}),u.listApplications=e,s.refreshList()}).catch(function(e){s.ready(),webix.message({type:"error",text:e}),AD.error.log("App Builder : Error loading application data",{error:e})})},onAfterFileAdd:function(){$$(n.uploader).disable(),s.busy()},onClickListEdit:function(e,t,o){return r.show(o),$$(n.list).select(t),!1},onClickListItem:function(e,o,i){s.busy(),$$(n.list).select(o);var a=$$(n.list).getItem(o);return a&&(s.ready(),t.actions.transitionWorkspace(a)),!1},onFileUpload:function(e,t){s.loadData(),$$(n.uploader).enable(),s.ready()},onFileUploadError:function(t,o){var i="Error: "+(o&&o.message);e.Dialog.Alert({text:i}),s.loadData(),$$(n.uploader).enable(),s.ready()},refreshOverlay:function(){var e=$$(n.list);e.count()?e.hideOverlay():e.showOverlay(a.component.noApplication)},ready:function(){$$(n.list).hideProgress&&$$(n.list).hideProgress()},reset:function(){$$(n.list).unselectAll()},refreshList:function(){var e=$$(n.list);e.clearAll(),e.data.unsync(),e.data.sync(u.listApplications),s.refreshOverlay(),e.refresh(),s.ready()},show:function(){$$(n.component).show()},templateListItem:function(e,t){return d.replace("#label#",e.label||"").replace("#description#",e.description||"").replace("{common.iconGear}",t.iconGear)}},d=["<div class='ab-app-list-item'>","<div class='ab-app-list-info'>","<div class='ab-app-list-name'>#label#</div>","<div class='ab-app-list-description'>#description#</div>","</div>","<div class='ab-app-list-edit'>","{common.iconGear}","</div>","</div>"].join("");return{ui:c,init:function(){webix.extend($$(n.list),webix.ProgressBar),webix.extend($$(n.list),webix.OverlayBox),o.init(),s.loadData()},actions:{unselectApplication:function(){s.reset()},getSelectedApplication:function(){return $$(n.list).getSelectedItem()},deleteApplication:function(e){e&&(s.busy(),e.destroy().then(function(t){s.reset(),s.ready(),webix.message({type:"success",text:a.common.deleteSuccessMessage.replace("{0}",e.label)})}).catch(function(t){s.reset(),s.ready(),webix.message({type:"error",text:a.common.deleteErrorMessage.replace("{0}",e.label)}),AD.error.log("App Builder : Error delete application data",{error:t})}))},transitionApplicationList:function(){$$(n.component).show()}},_logic:s}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function t(e,t){return AD.lang.label.getLabel(e)||t}var n={component:{menu:t("ab.application.menu","*Application Menu"),confirmDeleteTitle:t("ab.application.delete.title","*Delete application"),confirmDeleteMessage:t("ab.application.delete.message","*Do you want to delete <b>{0}</b>?")}},o="ab_choose_list_menu";e.Component.extend(o,function(t){n.common=t.labels;var i={menu:t.unique(o+"_menu")},a={view:"popup",id:i.menu,head:n.component.menu,width:100,body:{view:"list",borderless:!0,data:[{command:n.common.edit,icon:"fa-pencil-square-o"},{command:n.common.export,icon:"fa-download"},{command:n.common.delete,icon:"fa-trash"}],datatype:"json",template:"<i class='fa #icon#' aria-hidden='true'></i> #command#",autoheight:!0,select:!1,on:{onItemClick:function(e,t,n){return r.onItemClick(e,t,n)}}}},l=function(){},r={onItemClick:function(o,a,l){$$(i.menu).hide();var r=t.actions.getSelectedApplication();switch(l.textContent.trim()){case n.common.edit:t.actions.transitionApplicationForm(r);break;case n.common.delete:e.Dialog.ConfirmDelete({title:n.component.confirmDeleteTitle,text:n.component.confirmDeleteMessage.replace("{0}",r.label),callback:function(e){e&&t.actions.deleteApplication(r)}});break;case n.common.export:window.location.assign("/app_builder/appJSON/"+r.id+"?download=1")}return!1}};return{ui:a,init:l,_logic:r}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function t(e,t){return AD.lang.label.getLabel(e)||t}var o=n(1);!function(e){e&&e.__esModule}(o);n(24),n(23);var i={application:{backToApplication:t("ab.application.backToApplication","*Back to Applications page"),synchronize:t("ab.application.synchronize","*Synchronize"),objectTitle:t("ab.object.title","*Objects"),interfaceTitle:t("ab.interface.title","*Interface")}};e.Component.extend("ab_work",function(t){i.common=t.labels;var n={component:t.unique("ab_work_component"),toolBar:t.unique("ab_work_toolbar"),buttonSync:t.unique("ab_work_button_sync"),labelAppName:t.unique("ab_work_label_appname"),tabbar:t.unique("ab_work_tabbar"),tab_object:t.unique("ab_work_tab_object"),tab_interface:t.unique("ab_work_tab_interface"),workspace:t.unique("ab_work_workspace")},o=e.Component.ab_work_object(t),a=e.Component.ab_work_interface(t),l={id:n.component,rows:[{view:"toolbar",id:n.toolBar,autowidth:!0,cols:[{view:"button",label:i.application.backToApplication,width:200,type:"icon",icon:"arrow-left",align:"left",click:function(){t.actions.transitionApplicationChooser()}},{view:"label",id:n.labelAppName,align:"center"},{view:"spacer",width:200,alrign:"right"}]},{height:t.config.mediumSpacer},{cols:[{width:t.config.mediumSpacer},{rows:[{view:"tabbar",id:n.tabbar,value:n.tab_object,multiview:!0,options:[{id:n.tab_object,value:i.application.objectTitle,width:t.config.tabWidthMedium},{id:n.tab_interface,value:i.application.interfaceTitle,width:t.config.tabWidthMedium}],on:{onChange:function(e,t){e!=t&&c.tabSwitch(e,t)}}},{id:n.workspace,cells:[o.ui,a.ui]}]},{width:t.config.mediumSpacer}]},{height:t.config.mediumSpacer}]},r=function(){o.init(),a.init(),c.tabSwitch(n.tab_object)},c={applicationInit:function(e){$$(n.labelAppName).define("label",e.label),$$(n.labelAppName).refresh()},show:function(){$$(n.component).show()},synchronize:function(){console.error("TODO: ab_work.logic.synchronize()!")},tabSwitch:function(e,t){switch(e){case n.tab_object:o.show();break;case n.tab_interface:a.show()}}};return{ui:l,init:r,actions:{transitionWorkspace:function(e){c.applicationInit(e),o.applicationLoad(e),a.applicationLoad(e),c.show()}},_logic:c}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var t=n(1),o=(function(e){e&&e.__esModule}(t),{component:{}});e.Component.extend("ab_work_interface",function(e){o.common=e.labels;var t={component:e.unique("ab_work_interface_component")},n={id:t.component,rows:[{view:"label",label:"interface workspace"}]},i=function(){},a={applicationLoad:function(e){console.error("TODO: ab_work_interface.applicationLoad()")},show:function(){$$(t.component).show()}};return{ui:n,init:i,actions:{},applicationLoad:a.applicationLoad,show:a.show,_logic:a}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var t=n(1);!function(e){e&&e.__esModule}(t);n(25),n(28);var o={component:{}};e.Component.extend("ab_work_object",function(t){o.common=t.labels;var n={component:t.unique("ab_work_object_component")},i=e.Component.ab_work_object_list(t),a=e.Component.ab_work_object_workspace(t),l={id:n.component,autoheight:!0,margin:20,cols:[i.ui,{view:"resizer"},a.ui]},r=function(){a.init(),i.init()},c={applicationLoad:function(e){i.applicationLoad(e),a.clearObjectWorkspace()},show:function(){$$(n.component).show()}};return{ui:l,init:r,actions:{},applicationLoad:c.applicationLoad,show:c.show,_logic:c}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var t=n(1);!function(e){e&&e.__esModule}(t);n(26);var o={component:{addNew:function(e,t){return AD.lang.label.getLabel(e)||t}("ab.object.addNew","*Add new object")}},i="ab_work_object_list";e.Component.extend(i,function(t){o.common=t.labels;var n={component:t.unique(i+"_component"),list:t.unique(i+"_editlist"),buttonNew:t.unique(i+"_buttonNew")},a={id:n.component,rows:[{view:t.custom.editlist.view,id:n.list,width:250,height:800,select:!0,editaction:"custom",editable:!0,editor:"text",editValue:"label",template:function(e,t){return r.templateListItem(e,t)},type:{height:"auto",iconGear:"<div class='ab-object-list-edit'><span class='webix_icon fa-cog'></span></div>"},on:{onAfterRender:function(){r.onAfterRender()},onAfterSelect:function(e){r.selectObject(e)},onAfterDelete:function(e){r.onAfterDelete(e)},onBeforeEditStop:function(e,t){r.onBeforeEditStop(e,t)},onAfterEditStop:function(e,t,n){r.onAfterEditStop(e,t,n)}},onClick:{"ab-object-list-edit":function(e,t,n){r.clickEditMenu(e,t,n)}}},{view:"button",id:n.buttonNew,value:o.component.addNew,click:function(){r.clickNewObject()}}]},l=function(){webix.extend($$(n.list),webix.ProgressBar),$$(n.component).adjust(),$$(n.list).adjust()},r={applicationLoad:function(e){r.listBusy(),d=e,p=new webix.DataCollection({data:e.objects()});var t=$$(n.list);t.clearAll(),t.data.unsync(),t.data.sync(p),t.refresh(),t.unselectAll(),r.syncNumberRefresh(),r.listReady(),u.applicationLoad(e)},clickEditMenu:function(e,t,n){console.error("!! TODO: clickEditMenu()")},listBusy:function(){$$(n.list).showProgress({type:"icon"})},listReady:function(){$$(n.list).hideProgress()},onAfterDelete:function(e){console.error("!! todo: onAfterDelete()")},onAfterRender:function(){console.error("!! todo: onAfterRender() editing")},onAfterEditStop:function(e,t,n){console.error("!! todo: onAfterEditStop() editing")},onBeforeEditStop:function(e,t){console.error("!! todo: onBeforeEditStop() editing")},selectObject:function(e){var o=$$(n.list).getItem(e);t.actions.populateObjectWorkspace(o)},show:function(){$$(n.component).show()},syncNumberRefresh:function(){console.error("TODO: syncNumRefresh()")},templateListItem:function(e,t){return c.replace("#label#",e.label||"??label??").replace("{common.iconGear}",t.iconGear)},callbackNewObject:function(t,o){if(t)return void e.Error.log("Error creating New Object",{error:t});p.add(o,0),$$(n.list).select(newObject.id)},clickNewObject:function(){s.show()}},c=["<div class='ab-object-list-item'>","#label#","{common.iconGear}","</div>"].join(""),u=e.Component.ab_work_object_list_newObject(t),s=webix.ui(u.ui);u.init({onDone:r.callbackNewObject});var d=null,p=null;return{ui:a,init:l,actions:{getSelectedObject:function(){return $$(n.list).getSelectedItem()}},applicationLoad:r.applicationLoad,_logic:r}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){n(27);var t={component:{addNew:function(e,t){return AD.lang.label.getLabel(e)||t}("ab.object.addNew","*Add new object")}},o="ab_work_object_list_newObject";e.Component.extend(o,function(n){t.common=n.labels;var i={component:n.unique(o+"_component")},a=e.Component.ab_work_object_list_newObject_blank(n),l={view:"window",id:i.component,width:400,position:"center",modal:!0,head:t.component.addNew,selectNewObject:!0,body:{view:"tabview",cells:[a.ui]}},r=function(e){for(var t in c.callbacks)c.callbacks[t]=e[t]||c.callbacks[t];var n={onCancel:c.hide,onSave:c.save};a.init(n)},c={applicationLoad:function(e){u=e},callbacks:{onDone:function(){}},hide:function(){$$(i.component).hide()},save:function(t,n){if(!u)return e.Dialog.Alert({title:"Shoot!",test:"No Application Set!  Why?"}),n(!0),!1;var o=u.objectNew(t),i=o.isValid();if(i)return n(i),!1;o.save().then(function(e){n(),c.hide(),c.callbacks.onDone(null,e)}).catch(function(e){n(e)})},show:function(){$$(i.component).show()}},u=null;return{ui:l,init:r,actions:{},applicationLoad:c.applicationLoad,_logic:c}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var t={component:{placeholderName:function(e,t){return AD.lang.label.getLabel(e)||t}("ab.object.form.placeholderName","*Object name")}},n="ab_work_object_list_newObject_blank";e.Component.extend(n,function(o){t.common=o.labels;var i={component:o.unique(n+"_component"),form:o.unique(n+"_blank"),buttonSave:o.unique(n+"_save"),buttonCancel:o.unique(n+"_cancel")},a={id:i.component,header:t.common.create,body:{view:"form",id:i.form,width:400,rules:{},elements:[{view:"text",label:t.common.formName,name:"name",required:!0,placeholder:t.component.placeholderName,labelWidth:70},{margin:5,cols:[{view:"button",id:i.buttonCancel,value:t.common.cancel,click:function(){r.cancel()}},{view:"button",id:i.buttonSave,value:t.common.add,type:"form",click:function(){return r.save()}}]}]}},l=function(e){for(var t in r.callbacks)r.callbacks[t]=e[t]||r.callbacks[t]},r={callbacks:{onCancel:function(){console.warn("NO onCancel()!")},onSave:function(e,t){console.warn("NO onSave()!")}},cancel:function(){r.formClear(),r.callbacks.onCancel()},formClear:function(){$$(i.form).clearValidation(),$$(i.form).clear()},hide:function(){$$(i.component).hide()},save:function(){var t=$$(i.buttonSave);t.disable();var n=$$(i.form);if(n.clearValidation(),!n.validate())return t.enable(),!1;var o=n.getValues();r.callbacks.onSave(o,function(o){if(o)return e.Form.isValidationError(o,n),t.enable(),!1;r.formClear()})},show:function(){$$(i.component).show()}};return{ui:a,init:l,actions:{},_logic:r}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function t(e,t){return AD.lang.label.getLabel(e)||t}var o=n(1);!function(e){e&&e.__esModule}(o);n(29),n(30),n(32),n(33);var i={component:{addNewRow:t("ab.object.addNewRow","*Add new row"),selectObject:t("ab.object.selectObject","*Select an object to work with."),hideFields:t("ab.object.toolbar.hideFields","*Hide fields"),filterFields:t("ab.object.toolbar.filterFields","*Add filters"),sortFields:t("ab.object.toolbar.sortFields","*Apply sort"),frozenColumns:t("ab.object.toolbar.frozenColumns","*Frozen columns"),defineLabel:t("ab.object.toolbar.defineLabel","*Define label"),permission:t("ab.object.toolbar.permission","*Permission"),addFields:t("ab.object.toolbar.addFields","*Add new column"),export:t("ab.object.toolbar.export","*Export"),confirmDeleteTitle:t("ab.object.delete.title","*Delete data field"),confirmDeleteMessage:t("ab.object.delete.message","*Do you want to delete <b>{0}</b>?")}},a="ab_work_object_workspace";e.Component.extend(a,function(t){i.common=t.labels;var n={component:t.unique(a+"_component"),buttonAddField:t.unique(a+"_buttonAddField"),buttonExport:t.unique(a+"_buttonExport"),buttonFieldsVisible:t.unique(a+"_buttonFieldsVisible"),buttonFilter:t.unique(a+"_buttonFilter"),buttonFrozen:t.unique(a+"_buttonFrozen"),buttonLabel:t.unique(a+"_buttonLabel"),buttonRowNew:t.unique(a+"_buttonRowNew"),buttonSort:t.unique(a+"_buttonSort"),datatable:t.unique(a+"_datatable"),toolbar:t.unique(a+"_toolbar"),noSelection:t.unique(a+"_noSelection"),selectedObject:t.unique(a+"_selectedObject")},o=e.Component.ab_work_object_workspace_datatable(t),l=e.Component.ab_work_object_workspace_popupDefineLabel(t),r=webix.ui(l.ui),c=e.Component.ab_work_object_workspace_popupNewDataField(t);webix.ui(c.ui);var u=e.Component.ab_work_object_workspace_popupHideFields(t),s=webix.ui(u.ui),d={view:"multiview",id:n.component,rows:[{id:n.noSelection,rows:[{view:"label",label:i.component.selectObject}]},{id:n.selectedObject,rows:[{view:"toolbar",id:n.toolbar,hidden:!0,css:"ab-data-toolbar",cols:[{view:"button",id:n.buttonFieldsVisible,label:i.component.hideFields,icon:"eye-slash",type:"icon",autowidth:!0,badge:0,click:function(){f.toolbarFieldsVisible(this.$view)}},{view:"button",id:n.buttonFilter,label:i.component.filterFields,icon:"filter",type:"icon",autowidth:!0,badge:0,click:function(){f.toolbarFilter(this)}},{view:"button",id:n.buttonSort,label:i.component.sortFields,icon:"sort",type:"icon",autowidth:!0,badge:0,click:function(){f.toolbarSort(this.$view)}},{view:"button",id:n.buttonFrozen,label:i.component.frozenColumns,icon:"thumb-tack",type:"icon",autowidth:!0,badge:0,click:function(){f.toolbarFrozen(this.$view)}},{view:"button",id:n.buttonLabel,label:i.component.defineLabel,icon:"crosshairs",type:"icon",autowidth:!0,click:function(){f.toolbarDefineLabel(this.$view)}},{view:"button",label:i.component.permission,icon:"lock",type:"icon",autowidth:!0,click:function(){f.toolbarPermission(this.$view)}},{view:"button",id:n.buttonAddField,label:i.component.addFields,icon:"plus",type:"icon",autowidth:!0,click:function(){f.toolbarAddFields(this.$view)}},{view:"button",id:n.buttonExport,label:i.component.export,icon:"download",type:"icon",autowidth:!0,click:function(){f.toolbarButtonExport(this.$view)}}]},o.ui,{cols:[{view:"button",id:n.buttonRowNew,value:i.component.addNewRow,click:function(){f.rowAdd()}}]}]}]},p=function(){o.init({onEditorMenu:f.callbackHeaderEditorMenu}),l.init({onChange:f.callbackDefineLabel}),c.init({onSave:f.callbackAddFields}),u.init({onChange:f.callbackFieldsVisible}),$$(n.noSelection).show()},b=null,f={callbackAddFields:function(e){o.refresh()},callbackDefineLabel:function(){},callbackFieldsVisible:function(){var e=b.workspaceHiddenFields;$$(n.buttonFieldsVisible).define("badge",e.length),$$(n.buttonFieldsVisible).refresh(),o.refresh()},callbackHeaderEditorMenu:function(t,n,a){switch(t){case"hide":case"filter":case"sort":console.error("!! TODO: callbackHeaderEditorMenu():  unimplemented action:"+t);break;case"edit":c.show(a,n);break;case"delete":e.Dialog.Confirm({title:i.component.confirmDeleteTitle,message:i.component.confirmDeleteMessage.replace("{0}",n.label),callback:function(e){e&&n.destroy().then(function(){o.refresh()})}})}},clearObjectWorkspace:function(){$$(n.noSelection).show(!1,!1)},show:function(){$$(n.component).show()},toolbarAddFields:function(e){c.show(e)},toolbarButtonExport:function(e){console.error("TODO: Button Export()")},toolbarDefineLabel:function(e){r.show(e)},toolbarFieldsVisible:function(e){s.show(e)},toolbarFilter:function(e){console.error("TODO: button filterFields()")},toolbarFrozen:function(e){console.error("TODO: toolbarFrozen()")},toolbarPermission:function(e){console.error("TODO: toolbarPermission()")},toolbarSort:function(e){console.error("TODO: toolbarSort()")}};return{ui:d,init:p,actions:{populateObjectWorkspace:function(e){$$(n.toolbar).show(),$$(n.selectedObject).show(),b=e,t.actions.populateObjectPopupAddDataField(e),f.callbackFieldsVisible(),l.objectLoad(e),u.objectLoad(e),o.objectLoad(e)}},clearObjectWorkspace:f.clearObjectWorkspace,_logic:f}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){n(31);var t={component:{}},o="ab_work_object_workspace_datatable";e.Component.extend(o,function(n){t.common=n.labels;var i={component:n.unique(o+"_component")},a={view:"datatable",id:i.component,resizeColumn:!0,resizeRow:!0,prerender:!1,editable:!0,fixedRowHeight:!1,editaction:"custom",select:"cell",dragColumn:!0,on:{onBeforeSelect:function(e,t){console.error("!! ToDo: onBeforeSelect()")},onAfterSelect:function(e,t){console.error("!! todo: onAfterSelect()")},onCheck:function(e,t,n){console.error("!! ToDo: onCheck()")},onBeforeEditStop:function(e,t){console.error("!! ToDo: onCheck()")},onAfterEditStop:function(e,t,n){console.error("!! ToDo: onAfterEditStop()")},onColumnResize:function(e,t,n,o){console.error("!! ToDo: onColumnResize()")},onBeforeColumnDrag:function(e,t){console.error("!! ToDo: onBeforeColumnDrag()")},onBeforeColumnDrop:function(e,t,n){console.error("!! ToDo: onBeforeColumnDrag()")},onAfterColumnDrop:function(e,t,n){console.error("!! ToDo: onAfterColumnDrop()")},onAfterColumnShow:function(e){console.error("!! ToDo: onAfterColumnShow()")},onAfterColumnHide:function(e){console.error("!! ToDo: onAfterColumnHide()")},onHeaderClick:function(e,t,n){s.onHeaderClick(e,t,n)}}},l=function(e){for(var t in s.callbacks)s.callbacks[t]=e[t]||s.callbacks[t]},r=null,c=null,u=null,s={callbacks:{onEditorMenu:function(e,t){}},callbackHeaderEdit:function(e){p.hide(),s.callbacks.onEditorMenu(e,c,u)},onHeaderClick:function(e,t,n){return"appbuilder_trash"!=e.column&&(u=n,c=r.fields(function(t){return t.id==e.column})[0],c&&p.show(n),!1)},objectLoad:function(e){r=e,d.objectLoad(e),s.refresh()},refresh:function(){if(r){var e=$$(i.component);e.clearAll();var t=r.columnHeaders(!0);e.refreshColumns(t)}},show:function(){$$(i.component).show()}},d=e.Component.ab_work_object_workspace_popupHeaderEditMenu(n),p=webix.ui(d.ui);return d.init({onClick:s.callbackHeaderEdit}),{ui:a,init:l,actions:{},objectLoad:s.objectLoad,refresh:s.refresh,_logic:s}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function t(e,t){return AD.lang.label.getLabel(e)||t}var n={component:{labelFormat:t("ab.define_label.labelFormat","*Label format"),selectFieldToGenerate:t("ab.define_label.selectFieldToGenerate","*Select field item to generate format."),labelFields:t("ab.define_label.labelFields","*Fields")}},o="ab_work_object_workspace_popupDefineLabel";e.Component.extend(o,function(t){n.common=t.labels;var i={component:t.unique(o+"_component"),format:t.unique(o+"_format"),list:t.unique(o+"_list"),buttonSave:t.unique(o+"_buttonSave")},a={view:"popup",id:i.component,modal:!0,autoheight:!0,width:500,body:{rows:[{view:"label",label:"<b>{0}</b>".replace("{0}",n.component.labelFormat)},{view:"textarea",id:i.format,height:100},{view:"label",label:n.component.selectFieldToGenerate},{view:"label",label:"<b>{0}</b>".replace("{0}",n.component.labelFields)},{view:"list",id:i.list,width:500,maxHeight:180,select:!1,template:"#label#",on:{onItemClick:function(e,t,n){c.onItemClick(e,t,n)}}},{height:10},{cols:[{view:"button",value:n.common.cancel,width:100,click:function(){c.buttonCancel()}},{view:"button",id:i.buttonSave,label:n.common.save,type:"form",width:120,click:function(){c.buttonSave()}}]}]},on:{onShow:function(){c.onShow()}}},l=null,r=function(e){for(var t in c.callbacks)c.callbacks[t]=e[t]||c.callbacks[t];webix.extend($$(i.list),webix.ProgressBar)},c={buttonCancel:function(){$$(i.component).hide()},buttonSave:function(){var t=$$(i.buttonSave);t.disable();var n=$$(i.format).getValue(),o=$$(i.list);o.showProgress({type:"icon"}),o.data.each(function(e){n=n.replace(new RegExp("{"+e.label+"}","g"),"{"+e.id+"}")}),l.labelFormat=n,l.save().then(function(){o.hideProgress(),t.enable(),c.hide(),c.callbacks.onSave()}).catch(function(n){o.hideProgress(),t.enable(),e.Error.log("Error trying to save our Object",{error:n})})},callbacks:{onCancel:function(){console.warn("NO onCancel()!")},onSave:function(e){console.warn("NO onSave()!")}},hide:function(){$$(i.component).hide()},objectLoad:function(e){l=e;var t=$$(i.list);t.clearAll();var n=l.fields(),o=[];n.forEach(function(e){o.push({id:e.name,label:e.label})}),t.parse(n)},onItemClick:function(e,t,n){var o=$$(i.list).getItem(e),a=$$(i.format).getValue();a+="{{0}}".replace("{0}",o.label),$$(i.format).setValue(a)},onShow:function(){var e=l.labelFormat,t=$$(i.format),n=$$(i.list);if(t.setValue(""),t.enable(),n.enable(),$$(i.buttonSave).enable(),e)n.data&&n.data.count()>0&&n.data.each(function(t){e=e.replace("{"+t.id+"}","{"+t.label+"}")});else if(n.data&&n.data.count()>0){var o=n.getItem(n.getFirstId());e="{"+o.label+"}"}t.setValue(e||"")},show:function(e){$$(i.component).show(e)}};return{ui:a,init:r,actions:{},objectLoad:c.objectLoad,_logic:c}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function t(e,t){return AD.lang.label.getLabel(e)||t}var n={component:{hideField:t("ab.object.hideField","*Hide field"),filterField:t("ab.object.filterField","*Filter field"),sortField:t("ab.object.sortField","*Sort field"),editField:t("ab.object.editField","*Edit field"),deleteField:t("ab.object.deleteField","*Delete field")}},o="ab_work_object_workspace_popupHeaderEditMenu";e.Component.extend(o,function(e){n.common=e.labels;var t={component:e.unique(o+"_component"),list:e.unique(o+"_list")},i={default:[{command:n.component.hideField,icon:"fa-columns"},{command:n.component.filterField,icon:"fa-filter"},{command:n.component.sortField,icon:"fa-sort"},{command:n.component.editField,icon:"fa-pencil-square-o"},{command:n.component.deleteField,icon:"fa-trash"}],imported:[{command:n.component.hideField,icon:"fa-columns"},{command:n.component.filterField,icon:"fa-filter"},{command:n.component.sortField,icon:"fa-sort"}]},a={view:"popup",id:t.component,modal:!1,autoheight:!0,width:180,body:{id:t.list,view:"list",datatype:"json",autoheight:!0,select:!1,template:"<i class='fa #icon#' aria-hidden='true'></i> #command#",data:i.default,on:{onItemClick:function(e,t,n){c.onItemClick(e,t,n)}}}},l=null,r=function(e){for(var t in c.callbacks)c.callbacks[t]=e[t]||c.callbacks[t]},c={callbacks:{onClick:function(e){}},hide:function(){$$(t.component).hide()},objectLoad:function(e){l=e;var n=i.default,o=$$(t.list);o.clearAll(),o.parse(n)},onItemClick:function(e,t,o){var i=null;switch(o.textContent.trim()){case n.component.hideField:i="hide";break;case n.component.filterField:i="filter";break;case n.component.sortField:i="sort";break;case n.component.editField:i="edit";break;case n.component.deleteField:i="delete"}c.callbacks.onClick(i)},show:function(e){$$(t.component).show(e)}};return{ui:a,init:r,actions:{},hide:c.hide,objectLoad:c.objectLoad,show:c.show,_logic:c}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function t(e,t){return AD.lang.label.getLabel(e)||t}var o=n(1),i=(function(e){e&&e.__esModule}(o),{component:{showAll:t("ab.visible_fields.showAll","*Show All"),hideAll:t("ab.visible_fields.hideAll","*Hide All")}}),a="ab_work_object_workspace_popupHideFields";e.Component.extend(a,function(t){i.common=t.labels;var n={component:t.unique(a+"_component"),list:t.unique(a+"_list")},o={view:"popup",id:n.component,autoheight:!0,body:{rows:[{cols:[{view:"button",value:i.component.showAll,click:function(){c.clickShowAll()}},{view:"button",value:i.component.hideAll,click:function(){c.clickHideAll()}}]},{view:"list",id:n.list,autoheight:!0,select:!1,template:'<span style="min-width: 18px; display: inline-block;"><i class="fa fa-circle ab-visible-field-icon"></i>&nbsp;</span> #label#',on:{onItemClick:function(e,t,n){c.listItemClick(e,t,n)}}}]},on:{onShow:function(){c.iconsReset()}}},l=function(e){for(var t in c.callbacks)c.callbacks[t]=e[t]||c.callbacks[t]},r=null,c={callbacks:{onChange:function(){}},clickHideAll:function(){var t=r.fields(),n=[];t.forEach(function(e){n.push(e.id)}),r.workspaceHiddenFields=n,r.save().then(function(){c.iconsReset(),c.callbacks.onChange()}).catch(function(t){e.Error.log("Error trying to save workspaceHiddenFields",{error:t,fields:n})})},clickShowAll:function(){r.workspaceHiddenFields=[],r.save().then(function(){c.iconsReset(),c.callbacks.onChange()}).catch(function(t){e.Error.log("Error trying to save workspaceHiddenFields",{error:t,fields:newHidden})})},listItemClick:function(t,n,o){var i=[];r.workspaceHiddenFields.filter(function(e){return e==t}).length>0?(i=r.workspaceHiddenFields.filter(function(e){return e!=t}),c.iconShow(o)):(i=r.workspaceHiddenFields,i.push(t),c.iconHide(o)),r.workspaceHiddenFields=i,r.save().then(function(){c.callbacks.onChange()}).catch(function(t){e.Error.log("Error trying to save workspaceHiddenFields",{error:t,fields:i})})},iconHide:function(e){e&&(e.querySelector(".ab-visible-field-icon").style.visibility="hidden")},iconShow:function(e){e&&(e.querySelector(".ab-visible-field-icon").style.visibility="visible")},iconsReset:function(){for(var e=$$(n.list),t=e.getFirstId();t;){var o=e.getItemNode(t);-1==r.workspaceHiddenFields.indexOf(t)?c.iconShow(o):c.iconHide(o),t=e.getNextId(t)}},objectLoad:function(e){r=e;var t=r.fields(),o=[];t.forEach(function(e){o.push({id:e.id,label:e.label})}),$$(n.list).parse(t)}};return{ui:o,init:l,actions:{},objectLoad:c.objectLoad,_logic:c}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return AD.lang.label.getLabel(e)||t}var i=n(1),a=(t(i),n(11)),l=t(a),r={component:{chooseType:o("ab.add_fields.chooseType","*Choose field type..."),label:o("ab.add_fields.label","*Label"),addNewField:o("ab.add_fields.addNewField","*Add Column")}},c="ab_work_object_workspace_popupNewDataField";e.Component.extend(c,function(t){r.common=t.labels;var n={component:t.unique(c+"_component"),types:t.unique(c+"_types"),editDefinitions:t.unique(c+"_editDefinitions"),buttonSave:t.unique(c+"_buttonSave"),buttonCancel:t.unique(c+"_buttonCancel")},o={view:"popup",id:n.component,modal:!0,autoheight:!0,body:{css:"ab-add-fields-popup",borderless:!0,rows:[{view:"menu",id:n.types,data:[{value:r.component.chooseType,submenu:["dataFieldsManager",".getFieldMenuList()"]}],click:function(e,t,n){m.typeClick(),t.preventDefault()},on:{onMenuItemClick:function(e,t,n){m.onMenuItemClick(e),t.preventDefault()}}},{view:"multiview",id:n.editDefinitions,cells:[{id:"del_me",view:"label",label:"edit definition here"}]},{height:10},{cols:[{fillspace:!0},{view:"button",value:r.common.cancel,css:"ab-cancel-button",autowidth:!0,click:function(){m.buttonCancel()}},{view:"button",id:n.buttonSave,label:r.component.addNewField,autowidth:!0,type:"form",click:function(){m.buttonSave()}}]}]},on:{onBeforeShow:function(){m.resetState()},onShow:function(){m.onShow()},onHide:function(){m.resetState()}}},i={},a={},u={},s=null,d=null,p=null,b=null,f=function(e){for(var o in m.callbacks)m.callbacks[o]=e[o]||m.callbacks[o];var c=l.default.allFields(),d=[],b={view:"multiview",id:n.editDefinitions,rows:[]};c.forEach(function(e){var n=e.defaults().menuName,o=e.defaults().type;d.push(n);var l=e.propertiesComponent(t);p||(p=l),b.rows.push(l.ui),i[n]=e,a[n]=l,u[o]=l});var f=$$(n.types).getFirstId();$$(n.types).updateItem(f,{value:r.component.chooseType,submenu:d}),webix.ui(b,$$(n.editDefinitions));for(var o in a)a[o].hide();p.show(),s=p},m={buttonCancel:function(){m.resetState();for(var e in a)a[e].clear();$$(n.component).hide()},buttonSave:function(){$$(n.buttonSave).disable();var t=s;if(t)if(t.isValid()){var o=t.values(),i=null,a=null;b?(a=b.toObj(),b.fromValues(o),i=b):i=d.fieldNew(o);var l=i.isValid();l?(e.Form.isValidationError(l,$$(t.ui.id)),a&&i.fromValues(a),$$(n.buttonSave).enable()):i.save().then(function(){$$(n.buttonSave).enable(),m.hide(),s.clear(),m.callbacks.onSave(i)}).catch(function(e){$$(n.buttonSave).enable()})}else $$(n.buttonSave).enable();else e.Dialog.Alert({title:"! Could not find the current editor.",text:"go tell a developer about this."}),$$(n.buttonSave).enable()},callbacks:{onCancel:function(){console.warn("NO onCancel()!")},onSave:function(e){console.warn("NO onSave()!")}},hide:function(){$$(n.component).hide()},modeAdd:function(){p.show(!1,!1),s=p,$$(n.types).show(),$$(n.buttonSave).define("label",r.component.addNewField),$$(n.buttonSave).refresh()},modeEdit:function(e){s&&s.hide();for(var t in u)t==e.type?(u[t].populate(e),u[t].show(!1,!1),s=u[t]):u[t].hide();$$(n.types).hide(),$$(n.buttonSave).define("label",r.common.save),$$(n.buttonSave).refresh()},onMenuItemClick:function(e){var t=a[e];t&&(t.show(),s=t)},onShow:function(){console.error("TODO: onShow();")},resetState:function(){console.error("TODO: resetState()")},show:function(e,t){b=t,b?m.modeEdit(t):m.modeAdd(),$$(n.component).show(e)},typeClick:function(){var e=$$(n.types).config.data[0].submenu;"string"!=typeof e&&($$(n.types).getSubMenu($$(n.types).config.data[0].id),e=$$(n.types).config.data[0].submenu),$$(e)&&$$(e).show()}};return{ui:o,init:f,actions:{populateObjectPopupAddDataField:function(e){d=e}},show:m.show,_logic:m}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){e.Model.extend("opstools.BuildApp.ABApplication",{useSockets:!0,restURL:"/app_builder/abapplication"},{})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n={component:{}};e.CustomComponent.extend("ab_custom_editlist",function(e,t){n.common=e.labels;var o=(e.unique("custom_editlist_component"),{name:e.unique("custom_editlist")}),i={};webix.protoUI(o,webix.EditAbility,webix.ui.list);var a={view:o.name,_logic:i};return e.custom=e.custom||{},e.custom[t]=a,a}),t.default={key:"ab_custom_editlist"}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n={component:{}};e.CustomComponent.extend("ab_custom_edittree",function(e,t){n.common=e.labels;var o=(e.unique("custom_edittree_component"),{name:e.unique("custom_edittree")}),i={};webix.protoUI(o,webix.EditAbility,webix.ui.tree);var a={view:o.name,_logic:i};return e.custom=e.custom||{},e.custom[t]=a,a}),t.default={key:"ab_custom_edittree"}}).call(t,n(0))},function(e,t,n){"use strict";function o(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var a=i(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([a]).join("\n")}return[n].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=o(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(o[a]=!0)}for(i=0;i<e.length;i++){var l=e[i];"number"==typeof l[0]&&o[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="("+l[2]+") and ("+n+")"),t.push(l))}},t}},function(e,t,n){"use strict";e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var a;return a=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},function(e,t,n){t=e.exports=n(37)(void 0),t.push([e.i,".webix_view, .webix_el_colorpicker input, .webix_el_combo input, .webix_el_datepicker input, .webix_el_search input, .webix_el_text input, .webix_control button, .webix_control input, .webix_control textarea, .webix_el_label, .webix_inp_bottom_label, .webix_inp_label, .webix_inp_top_label {\n\tfont-family: \"Helvetica Neue\",Helvetica,Arial,sans-serif !important;\n}\n.ab-generated-page {\n\toverflow-y: auto;\n}\n.ab-main-container {\n\tposition: relative;\n\tdisplay: block;\n\twidth: 100%;\n\tbackground: -moz-linear-gradient(top, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0) 100%); /* FF3.6-15 */\n\tbackground: -webkit-linear-gradient(top, rgba(0,0,0,0.2) 0%,rgba(0,0,0,0) 100%); /* Chrome10-25,Safari5.1-6 */\n\tbackground: linear-gradient(to bottom, rgba(0,0,0,0.2) 0%,rgba(0,0,0,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n}\n.ab-main-container .pointer {\n\tcursor: pointer;\n}\n.ab-main-container .right {\n\ttext-align: right;\n}\n.ab-main-container .center {\n\ttext-align: center;\n}\n.ab-main-container .left {\n\ttext-align: left;\n}\n.ab-text-bold {\n\tfont-weight: bold !important;\n}\n.ab-scroll-y {\n\toverflow-y: auto !important;\n}\n.ab-ellipses-text, .ab-ellipses-text > div {\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n.float-left {\n\tfloat: left;\n}\n.float-right {\n\tfloat: right;\n}\n\n/* Webix icon */\n.ab-main-container .webix_icon {\n\tline-height: inherit;\n}\n\n/* Fix overflow-x */\n.ab-generated-page .webix_scroll_cont {\n\toverflow: auto !important;\n}\n\n/* == Webix datatable == */\n/* Checkbox column */\n.ab-main-container .webix_hcell.center input[type=checkbox] {\n\twidth:20px;\n\theight:20px;\n\tmargin-top:12px;\n  }\n.ab-main-container .webix_table_checkbox {\n\twidth:20px;\n\theight:20px;\n\tmargin-top:5px;\n}\n/* Last column */\n.ab-main-container .webix_column.webix_last > div,\n.ab-main-container .webix_hs_center td.webix_last,\n.ab-main-container .ab-app-list-descriptionwebix_hs_right td.webix_last {\n\tborder-right-width: 1px !important;\n}\n/* No padding/margin column */\n.ab-column-no-padding div {\n\tpadding: 0px !important;\n\tmargin: 0px !important;\n}\n.ab-main-container .ab-cell-warn {\n\tbackground-color: #F5AE0F !important;\n}\n\n/* Webix selected item */\n.webix_list_item.webix_selected,\n.webix_column>div.webix_cell_select,\n.webix_column>div.webix_column_select,\n.webix_column>div.webix_row_select {\n\tbackground-color: #3498db !important;\n}\n\n/* Webix message */\n.webix_success {\n  background-color: #BFF2BF;\n}\n.webix_success div {\n  background-color: #BFF2BF;\n  border: 1px solid #007A00;\n  color: #000;\n}\n\n/* Webix list */\n.ab-main-container .webix_list_item .webix_selected,\n.ab-main-container .webix_tree_item.webix_selected {\n\tcolor: #fff !important;\n\tbackground-color: #3498db !important;\n}\n.ab-app-form-permission .webix_selected {\n\tcolor: #333 !important;\n\tbackground-color: transparent !important;\n}\n\n/* Webix toolbar */\n.ab-toolbar-submenu, .ab-toolbar-submenu .webix_header>div {\n\tbackground: #EEE !important;\n\tcolor: #666 !important;\n\tfont-size: 15px !important;\n\tfont-weight: bold !important;\n\tborder-bottom: 0px !important;\n}\n\n/* Webix segmented */\n.ab-form-component-item .webix_segment_0.webix_selected,\n.ab-form-component-item .webix_segment_1.webix_selected,\n.ab-form-component-item .webix_segment_N.webix_selected,\n.ab-component-view-edit-field .webix_segment_0.webix_selected,\n.ab-component-view-edit-field .webix_segment_1.webix_selected,\n.ab-component-view-edit-field .webix_segment_N.webix_selected {\n\tcolor: #fff !important;\n\tbackground-color: #3498db !important;\n}\n\n.ab-form-component-item .webix_segment_0,\n.ab-form-component-item .webix_segment_1,\n.ab-form-component-item .webix_segment_N,\n.ab-component-view-edit-field .webix_segment_0,\n.ab-component-view-edit-field .webix_segment_1,\n.ab-component-view-edit-field .webix_segment_N {\n\tcolor: #3498db;\n\tbackground: #fff;\n}\n\n/* Add new columns popup */\n.ab-add-fields-popup {\n\toverflow-y: auto;\n}\n\n/* Application list */\n.ab-app-list {\n/*\n\tmin-height: 300px;\n\tpadding: 40px 100px;\n*/\n}\n.ab-app-select-list .webix_selected {\n\tbackground-color: #FFF !important;\n\tcolor: #333 !important;\n}\n.ab-app-select-list .webix_list_item:hover {\n\tbackground: #ebebeb;\n}\n.ab-app-list-item {\n\tposition: relative;\n\theight: 100%;\n\tmargin: -2px -10px;\n\tpadding: 15px;\n\tline-height: 20px;\n}\ndiv[view_id='ab-app-list'] div.webix_list_item:hover,\ndiv[view_id='ab-object-list'] div.webix_list_item:hover,\ndiv[view_id='ab-object-list-menu'] div.webix_list_item:hover,\ndiv[view_id='ab-new-connectObject-list-item'] div.webix_list_item:hover,\ndiv[view_id='ab-edit-header-items'] div.webix_list_item:hover,\ndiv[view_id='ab-frozen-field-list'] div.webix_list_item:hover {\n\tbackground-color: #eee;\n}\n.ab-app-list-name {\n\tfont-size: large;\n}\n.ab-app-list-description {\n\tcolor: #999;\n\tfont-size: small;\n}\n.ab-app-list-info {\n\twidth: 95%;\n\tdisplay: inline-block;\n}\n.ab-app-list-edit {\n\tposition: absolute;\n\ttop: 0;\n\tright: 10px;\n\topacity: 0.4;\n\tline-height: 70px;\n\theight: 70px;\n}\n.ab-app-list-edit:hover {\n\topacity: 1;\n}\n\n/* Application workspace */\n.ab-app-workspace {\n\t/*min-height: 100px;*/\n}\n.ab-unsync-data-warning {\n\tcursor: pointer;\n    color: #fff;\n    background-color: #F5962F;\n    border: #fff dotted 1px !important;\n    padding-left: 2px;\n}\n.ab-unsync-data-popup .webix_win_head {\n\tbackground-color: #F5962F;\n}\n.ab-unsync-data-popup .webix_win_head .header {\n\tpadding-left: 5px;\n\tfont-weight: bold;\n    color: #fff;\n}\n.ab-unsync-data-status {\n\tpadding: 3px;\n}\n.ab-unsync-data-in-progress {\n\tbackground-color: #F5AE0F;\n}\n.ab-unsync-data-done {\n\tbackground-color: #3AB349;\n}\n.ab-unsync-data-error {\n\tbackground-color: #EC2F2F;\n}\n\n/* Object list */\n.ab-object-list-item {\n\tposition: relative;\n\theight: 100%;\n}\n.ab-object-list-edit {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 5px;\n\tdisplay: none;\n}\n.ab-object-unsync {\n\tbackground-color: #d2e3ef;\n\tcolor: #4a4a4a;\n\tposition: absolute;\n\ttop: 4px;\n\tright: 30px;\n\tfont-size: 12px;\n\tborder-radius: 6px;\n\tpadding: 0px 4px;\n\theight: 20px;\n\tline-height: 20px;\n\tdisplay: none;\n}\n\n/* Interface list */\n.ab-page-list-item {\n\tposition: relative;\n\theight: 100%;\n}\n.ab-page-list-edit {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 5px;\n\tdisplay: none;\n\tcursor: pointer;\n}\n\n/* Object datatable */\n.ab-object-data-header {\n\tposition: relative;\n}\n.ab-object-data-new-header {\n\tbackground-color: #cfd9e0;\n}\n\n.ab-object-data-header-edit {\n\tdisplay: none;\n\tposition: absolute;\n\ttop: 15px;\n\tright: 10px;\n}\n.ab-object-data-header:hover .ab-object-data-header-edit {\n\tdisplay: block;\n}\n.ab-object-unsync-data {\n\tbackground-color: #dae6fb;\n}\n.ab-object-view-column {\n\tcolor: #3498db;\n\tfont-weight: bold;\n\ttext-align: center;\n\tcursor: pointer;\n}\n\n/* Connect object data */\n.ab-connect-data-info {\n\tdisplay: inline-block;\n\twidth: 90px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.ab-connect-data-disable {\n\tbackground-color: #aaa;\n}\n\n/* Custom selectivity */\n.ab-main-container .selectivity-multiple-input-container {\n\tbackground: none !important;\n\tpadding: 0px !important;\n\toverflow: hidden !important;\n\tmax-height: 100% !important;\n}\n.ab-main-container .selectivity-multiple-selected-item {\n\tbackground: #3498db !important;\n\tpadding-right: 5px;\n\t/*max-width: 100px !important;*/\n}\n\n/* Interface tree view */\n.ab-main-container .webix_tree_item.webix_selected span {\n\tpadding: 0px;\n\tbackground: #3498db !important;\n}\n\n/* Interface new page popup */\n.ab-interface-new-quick-page {\n    overflow: scroll !important;\n\toverflow-x: hidden !important;\n\toverflow-y: auto !important;\n}\n\n.ab-interface-new-quick-page .webix_inp_checkbox_border label {\n\tfont-weight: normal; /* Override bootstrap*/\n}\n\n/* Interface page layout */\n.ab-component-drop-area {\n\tmargin-right: 2px;\n\tborder: 1px dashed #000 !important;\n\tbackground-color: #D3E9EF;\n\tbackground-image:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='30px' width='90px'><text x='20' y='20' fill='#95CBEF' font-size='15'>Drop Here</text></svg>\");\n}\n\ndiv[view_id='ab-interface-layout-page'] .webix_list_item,\n.ab-component-in-page {\n\twidth: 100%;\n\tposition: relative;\n\tbackground-color: #fff;\n\tclear: both;\n}\n\n.ab-component-item-name {\n\tfloat: left;\n\tfont-size: 18px;\n\tborder-right: 1px solid #ebebeb;\n\tvertical-align: top;\n\tpadding-top: 10px;\n\twidth: 90px;\n\tmargin-bottom: -500em; /* CSS hack: equal height of right float */\n\tpadding-bottom: 500em;\n}\n\n.ab-component-item-display {\n\tfloat: right;\n\tvertical-align: top;\n\tpadding: 10px;\n\twidth: 87%;\n\tline-height: 100%;\n\toverflow-x: auto;\n}\n\n.ab-component-remove {\n\tposition: absolute;\n\ttop: 5px;\n\tright: 1px;\n}\n\n.ab-component-link {\n\tcolor: #003B7E;\n\ttext-decoration: underline;\n\tcursor: pointer;\n}\n\n/* Interface component list */\n.ab-component-item-drag {\n\tborder: 1px dotted #000 !important;\n\tfont-size: 35px;\n\tbackground-color: #fff;\n}\n\n/* Header component */\n.ab-component-header {\n\tfont-size: 25px;\n\tfont-weight: bold;\n\tmargin: 0px;\n\tpadding: 0px;\n}\n.ab-component-description {\n\tfont-size: 14px;\n\tpadding: 0px;\n}\n\n/* Menu component */\n.ab-page-list-item .webix_tree_checkbox {\n\tmargin: 0px !important;\n}\n\n/* Object toolbar */\n.ab-data-toolbar {\n\tbackground: #aaa !important;\n}\n.ab-data-toolbar button {\n\ttext-align: center;\n\tfont-size: 14px;\n}\n.ab-data-toolbar button:hover, .ab-data-toolbar button:active {\n\tbackground: #aaa !important;\n}\n.ab-data-toolbar button .webix_icon_btn {\n\topacity: 0.6;\n\tfont-size: 15px;\n}\n.ab-data-toolbar button:hover .webix_icon_btn {\n\topacity: 1;\n}\n\n/* Grid component */\n.ab-page-grid-column-item .column-checkbox {\n\tdisplay: inline-block;\n\tposition: relative;\n\ttop: -5px;\n\twidth: 30px;\n}\n\n.ab-page-grid-column-item .column-empty-checkbox {\n\tposition: relative;\n\twidth: 50px;\n\theight: 38px;\n}\n\n.ab-page-grid-column-item .column-name {\n\tdisplay: inline-block;\n\tposition: relative;\n\ttop: -18px;\n}\n\n/* Form component */\n.ab-standard-button button, .ab-standard-button button:hover, .ab-standard-button button:active, .ab-standard-button .webix_icon_btn {\n\tbackground: transparent !important;\n\tborder-color: transparent !important;\n\tcolor: #666 !important;\n\tbox-shadow: none !important;\n}\n.ab-cancel-button button {\n\tbackground: transparent !important;\n\tcolor: #AAA;\n\tborder-color: transparent;\n}\n.ab-cancel-button button:hover {\n\ttext-decoration: underline;\n}\n.ab-cancel-button button:active {\n\tbox-shadow: none;\n}\n.ab-form-connect-data {\n\tfloat: left;\n\tborder: #CCC solid 1px;\n\tpadding: 0px 5px;\n\tmin-width: 70%;\n\tborder-radius: 6px;\n}\n\n.ab-main-container .webix_layout_form {\n\tbackground-color: #fff !important;\n}\n\n/* Loading Screen */\n.ab-loading-screen {\n\tbackground: #000;\n\topacity: 0.7;\n\tposition: absolute !important;\n}\n.ab-loading-body {\n\tbackground: #000;\n\tborder-width: 0px !important;\n}\n.ab-loading-message {\n\tcolor: #fff !important;\n\tbackground: #000 !important;\n\tfont-size: 30px !important;\n\ttext-align: center;\n\tvertical-align: middle;\n\tborder-width: 0px !important;\n\tpadding-top: 20% !important;\n\theight: 100px !important;\n}\n.ab-loading-button {\n\ttext-align: center;\n}\n.ab-loading-button button {\n\tbackground-color: #003B7E;\n\twidth: 200px;\n}\n.ab-loading-cancel-button {\n\ttext-align: center;\n\tbackground: transparent;\n}\n.ab-loading-cancel-button a {\n\tcolor: #fff !important;\n}\n.ab-loading-screen .webix_progress_bottom {\n\theight: 40px !important;\n\topacity: 1;\n}\n.ab-loading-screen .webix_progress_bottom .webix_progress_state {\n\theight: 40px !important;\n}\n\n/* Dynamic DataTable */\n.dynamic-datatable-view .webix_badge {\n\tmargin: 0 !important;\n}\n\n/* Number data field */\n.ab-number-format-show {\n\twhite-space: nowrap;\n}\n\n/* Icon Picker */\n.ab-main-container .iconpicker .iconpicker-items {\n\tcolor: #000;\n}\n\n/* Webix Tabs */\ndiv.webix_item_tab {\n\tfont-size: 16px;\n}\n",""])},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=f[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(s(o.parts[a],t))}else{for(var l=[],a=0;a<o.parts.length;a++)l.push(s(o.parts[a],t));f[o.id]={id:o.id,refs:1,parts:l}}}}function i(e){for(var t=[],n={},o=0;o<e.length;o++){var i=e[o],a=i[0],l=i[1],r=i[2],c=i[3],u={css:l,media:r,sourceMap:c};n[a]?n[a].parts.push(u):t.push(n[a]={id:a,parts:[u]})}return t}function a(e,t){var n=h(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=g[g.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function l(e){e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function r(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),a(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),a(e,t),t}function u(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function s(e,t){var n,o,i;if(t.singleton){var a=w++;n=v||(v=r(t)),o=d.bind(null,n,a,!1),i=d.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),o=b.bind(null,n,t),i=function(){l(n),n.href&&URL.revokeObjectURL(n.href)}):(n=r(t),o=p.bind(null,n),i=function(){l(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}function d(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var a=document.createTextNode(i),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(a,l[t]):e.appendChild(a)}}function p(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function b(e,t,n){var o=n.css,i=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(o=_(o)),i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var l=new Blob([o],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(l),r&&URL.revokeObjectURL(r)}var f={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),h=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),v=null,w=0,g=[],_=n(38);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=m()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=i(e);return o(n,t),function(e){for(var a=[],l=0;l<n.length;l++){var r=n[l],c=f[r.id];c.refs--,a.push(c)}if(e){o(i(e),t)}for(var l=0;l<a.length;l++){var c=a[l];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete f[c.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var o=n(39);"string"==typeof o&&(o=[[e.i,o,""]]);n(40)(o,{});o.locals&&(e.exports=o.locals)}]);
//# sourceMappingURL=BuildApp.js.map