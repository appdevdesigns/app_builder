!function(e){function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}var t={};i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},i.p="",i(i.s=3)}([function(e,i,t){"use strict";window.OP={},OP.UI={},OP.Logic={},OP.Models={},OP.UI.extend=function(e,i){OP.UI[e]=i},OP.Logic.extend=function(e,i){OP.Logic[e]=i}},function(e,i,t){"use strict";t(2);var o={id:"self.webixUiId.appView",autoheight:!0,cells:[OP.UI.ab_choose_list]};OP.UI.extend("ab_choose",o);var n={init:function(){OP.Logic.ab_choose_list.init()}};OP.Logic.extend("ab_choose",n)},function(e,i,t){"use strict";var o={list:"ab_choose_list",toolBar:"ab_choose_list_toolbar"},n={cols:[{width:100},{id:o.list,autoheight:!0,autowidth:!0,rows:[{height:30},{view:"toolbar",id:o.toolBar,cols:[{view:"label",label:"self.labels.application.title",fillspace:!0},{view:"button",value:"self.labels.application.createNew",width:200,click:function(){a.buttonCreateNewApplication()}},{view:"uploader",value:"self.labels.common.import",width:200,upload:"/app_builder/appJSON",multiple:!1,autosend:!0,on:{onAfterFileAdd:function(){this.disable(),$$("self.webixUiId.appList").showProgress({type:"icon"})},onFileUpload:function(e,i){a.loadData(),this.enable(),$$("self.webixUiId.appList").hideProgress()},onFileUploadError:function(e,i){var t="Error: "+(i&&i.message);webix.message({type:"error",text:t}),a.loadData(),this.enable(),$$("self.webixUiId.appList").hideProgress()}}}]},{view:"label",label:"The List"}]},{width:100}]};OP.UI.extend("ab_choose_list",n);var a={init:function(){webix.extend($$(o.list),webix.ProgressBar),webix.extend($$(o.list),webix.OverlayBox)},buttonCreateNewApplication:function(){self.resetState(),self.populateForm()},loadData:function(){console.log("... should load application data now.")}};OP.Logic.extend("ab_choose_list",a)},function(e,i,t){"use strict";t(0),t(1),AD.Control.OpsTool.extend("BuildApp",{init:function(e,i){var t=this;i=AD.defaults({templateDOM:"/opstools/BuildApp/views/BuildApp/BuildApp.ejs",resize_notification:"BuildApp.resize",tool:null},i),t.options=i,t._super(e,i),t.data={},t.webixUiId={loadingScreen:"ab-loading-screen",syncButton:"ab-sync-button"},t.initDOM(function(){t.initWebixUI()})},initDOM:function(e){var i=this;can.view(this.options.templateDOM,{},function(t){i.element.html(t),e()})},initWebixUI:function(){this.AppBuilder=webix.ui({id:"buld_app_loading_screen",container:"ab-main-container",autoheight:!0,autowidth:!0,rows:[OP.UI.ab_choose]}),this.AppBuilder.adjust(),OP.Logic.ab_choose.init()},resize:function(e){var i=this;e=e.height||e;var t=$(i.element);if(t){var o=t.parent().css("width");o&&(o=parseInt(o.replace("px",""))),t.width(o);var n=e-140,a=parseInt(t.css("min-height").replace("px",""));a<n?(t.height(n),$("#ab-main-container").height(n)):(t.height(a),$("#ab-main-container").height(a)),this.AppBuilder&&this.AppBuilder.adjust()}}})}]);